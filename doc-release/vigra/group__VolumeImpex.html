<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>vigra - Import/export of volume data.</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
<link rel=stylesheet type="text/css" href="vigra_1_8_2.css">
<link rel="shortcut icon" href="vigra-icon.ico" />
<script type="text/javascript">
function toggleHiddenDocumentation( textID, toggleID, toggleMessage )
{
	if( document.getElementById(textID).style.display == 'none' )
    {
		document.getElementById(textID).style.display = 'block';
        document.getElementById(toggleID).innerHTML = "hide " + toggleMessage;
    }
    else
    {
		document.getElementById(textID).style.display = 'none';
        document.getElementById(toggleID).innerHTML = "show " + toggleMessage;
	}
    return false;
}
</script>
<script>
var runOnLoad=function(c,o,d,e){function x(){for(e=1;c.length;)c.shift()()}o[d]?(document[d]('DOMContentLoaded',x,0),o[d]('load',x,0)):o.attachEvent('onload',x);return function(t){e?o.setTimeout(t,0):c.push(t)}}([],window,'addEventListener');
</script>
<script type="text/javascript" src="documents/CollapsibleLists.js"></script>
<script type="text/javascript">
    runOnLoad(function(){ CollapsibleLists.apply(); });
</script>
<style type="text/css">
.collapsibleList li.collapsibleListOpen{
  list-style-image:url('documents/pfeil.gif');
  cursor:pointer;
}
.collapsibleList li.collapsibleListClosed{
  list-style-image:url('documents/bullet.gif');
  cursor:pointer;
}
.collapsibleList li.lastItem{
  list-style-image:url('documents/diamond.gif');
}
</style>
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://ukoethe.github.io/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" title="Detailed Description" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">Import/export of volume data.
</td>
<td align=right><a href="http://hci.iwr.uni-heidelberg.de/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif" title="VIGRA Homepage"></a></td></tr>
</table><p>

<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1VolumeExportInfo.html">VolumeExportInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Argument object for the function <a class="el" href="group__VolumeImpex.html#gac9a23a3dac8373296367f882493d2d60" title="Function for exporting a 3D volume. ">exportVolume()</a>.  <a href="classvigra_1_1VolumeExportInfo.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1VolumeImportInfo.html">VolumeImportInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Argument object for the function <a class="el" href="group__VolumeImpex.html#gaa8328600a03da4d2849fe33f2a080705" title="Function for importing a 3D volume. ">importVolume()</a>.  <a href="classvigra_1_1VolumeImportInfo.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac9a23a3dac8373296367f882493d2d60"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:gac9a23a3dac8373296367f882493d2d60"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__VolumeImpex.html#gac9a23a3dac8373296367f882493d2d60">exportVolume</a> (...)</td></tr>
<tr class="memdesc:gac9a23a3dac8373296367f882493d2d60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for exporting a 3D volume.  <a href="#gac9a23a3dac8373296367f882493d2d60">More...</a><br/></td></tr>
<tr class="separator:gac9a23a3dac8373296367f882493d2d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8328600a03da4d2849fe33f2a080705"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:gaa8328600a03da4d2849fe33f2a080705"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__VolumeImpex.html#gaa8328600a03da4d2849fe33f2a080705">importVolume</a> (...)</td></tr>
<tr class="memdesc:gaa8328600a03da4d2849fe33f2a080705"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for importing a 3D volume.  <a href="#gaa8328600a03da4d2849fe33f2a080705">More...</a><br/></td></tr>
<tr class="separator:gaa8328600a03da4d2849fe33f2a080705"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="_details" id="details"></a><h2 class="details_section">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa8328600a03da4d2849fe33f2a080705"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::importVolume </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for importing a 3D volume. </p>
<p><b>Declarations: </b></p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// variant 1: read data specified by the given VolumeImportInfo object</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> Str<span class="keywordtype">id</span>e&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__VolumeImpex.html#gaa8328600a03da4d2849fe33f2a080705">importVolume</a>(VolumeImportInfo <span class="keyword">const</span> &amp; info,</div>
<div class="line">                 MultiArrayView &lt;3, T, Stride&gt; &amp;volume);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// variant 2: read data using a single filename, resize volume automatically</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> Allocator&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__VolumeImpex.html#gaa8328600a03da4d2849fe33f2a080705">importVolume</a>(MultiArray &lt;3, T, Allocator&gt; &amp; volume,</div>
<div class="line">                 <span class="keyword">const</span> std::string &amp;filename);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// variant 3: read data from an image stack, resize volume automatically</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> Allocator&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__VolumeImpex.html#gaa8328600a03da4d2849fe33f2a080705">importVolume</a>(MultiArray &lt;3, T, Allocator&gt; &amp; volume,</div>
<div class="line">                 <span class="keyword">const</span> std::string &amp;name_base,</div>
<div class="line">                 <span class="keyword">const</span> std::string &amp;name_ext);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Data can be read either from a single file containing 3D data (supported formats: Andor .SIF or multi-page TIFF), a ".info" text file which describes the contents of an accompanying raw data file, or a stack of 2D images (numbered according to the scheme <code>name_base+"[0-9]+"+name_extension</code>) each representing a slice of the volume. The decision which of these possibilities applies is taken in the <a class="el" href="classvigra_1_1VolumeImportInfo.html#aeb4a9c422a899543d798bf2575c2daf6">VolumeImportInfo constructor</a>, see there for full details.</p>
<p>Variant 1 is the basic version of this function. Here, the info object and a destination array of approriate size must already be constructed. The other variants are just abbreviations provided for your convenience: </p>
<div class="fragment"><div class="line"><span class="comment">// variant 2 is equivalent to</span></div>
<div class="line">VolumeImportInfo info(filename);</div>
<div class="line">volume.reshape(info.shape());</div>
<div class="line"><a class="code" href="group__VolumeImpex.html#gaa8328600a03da4d2849fe33f2a080705">importVolume</a>(info, volume);    <span class="comment">// call variant 1</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// variant 3 is equivalent to</span></div>
<div class="line">VolumeImportInfo info(name_base, name_ext);</div>
<div class="line">volume.reshape(info.shape());</div>
<div class="line"><a class="code" href="group__VolumeImpex.html#gaa8328600a03da4d2849fe33f2a080705">importVolume</a>(info, volume);    <span class="comment">// call variant 1</span></div>
</div><!-- fragment --><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="multi__impex_8hxx_source.html">vigra/multi_impex.hxx</a>&gt; <br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line"><span class="comment">// read data from a multi-page TIFF file, using variant 1</span></div>
<div class="line">VolumeImportInfo info(<span class="stringliteral">&quot;multipage.tif&quot;</span>);</div>
<div class="line">MultiArray&lt;3, float&gt; volume(info.shape());</div>
<div class="line"><a class="code" href="group__VolumeImpex.html#gaa8328600a03da4d2849fe33f2a080705">importVolume</a>(info, volume);</div>
<div class="line"></div>
<div class="line"><span class="comment">// read data from a stack of 2D png-images, using variant 1</span></div>
<div class="line">VolumeImportInfo info(<span class="stringliteral">&quot;my_data&quot;</span>, <span class="stringliteral">&quot;.png&quot;</span>);  <span class="comment">// looks for files &#39;my_data0.png&#39;, &#39;my_data1.png&#39; etc.</span></div>
<div class="line">MultiArray&lt;3, float&gt; volume(info.shape());</div>
<div class="line"><a class="code" href="group__VolumeImpex.html#gaa8328600a03da4d2849fe33f2a080705">importVolume</a>(info, volume);</div>
</div><!-- fragment --><p> Notice that slice numbers in a stack need not be consecutive (i.e. gaps are allowed) and will be interpreted according to their numerical order (i.e. "009", "010", "011" are read in the same order as "9", "10", "11"). The number of images found determines the depth of the volume. </p>

</div>
</div>
<a class="anchor" id="gac9a23a3dac8373296367f882493d2d60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::exportVolume </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for exporting a 3D volume. </p>
<p><b> Declarations:</b></p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// variant 1: writa data as specified in the given VolumeExportInfo object</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> Tag&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__VolumeImpex.html#gac9a23a3dac8373296367f882493d2d60">exportVolume</a> (MultiArrayView &lt;3, T, Tag&gt; <span class="keyword">const</span> &amp; volume,</div>
<div class="line">                  <span class="keyword">const</span> VolumeExportInfo &amp; info);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// variant 2: write data to a multi-page TIFF file</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> Tag&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__VolumeImpex.html#gac9a23a3dac8373296367f882493d2d60">exportVolume</a> (MultiArrayView &lt;3, T, Tag&gt; <span class="keyword">const</span> &amp; volume,</div>
<div class="line">                  <span class="keyword">const</span> std::string &amp;filename);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// variant 3: write data to an image stack</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> Tag&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__VolumeImpex.html#gac9a23a3dac8373296367f882493d2d60">exportVolume</a> (MultiArrayView &lt;3, T, Tag&gt; <span class="keyword">const</span> &amp; volume,</div>
<div class="line">                  <span class="keyword">const</span> std::string &amp;name_base,</div>
<div class="line">                  <span class="keyword">const</span> std::string &amp;name_ext);</div>
<div class="line">}</div>
</div><!-- fragment --><p>The volume can either be exported as a multi-page TIFF file (variant 2, only available if libtiff is installed), or as a stack of 2D images, one image per slice (variant 3, files are named according to the scheme <code>name_base+"000"+name_ext</code>, <code>name_base+"001"+name_ext</code> etc.). If the target image format does not support the source <code>value_type</code>, all slices will be mapped to the appropriate target range in the same way.</p>
<p>Variant 1 is the basic version of the function. It allows full control over the export via an already constructed <a class="el" href="classvigra_1_1VolumeExportInfo.html">vigra::VolumeExportInfo</a> object. The other two are just abbreviations that construct the <a class="el" href="classvigra_1_1VolumeExportInfo.html" title="Argument object for the function exportVolume(). ">VolumeExportInfo</a> object internally.</p>
<p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="multi__impex_8hxx_source.html">vigra/multi_impex.hxx</a>&gt; <br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;3, RGBValue&lt;UInt8&gt; &gt; volume(shape);</div>
<div class="line">... <span class="comment">// fill in data</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// export a stack named &quot;my_data01.jpg&quot;, &quot;my_data02.jpg&quot; etc.</span></div>
<div class="line">VolumeExportInfo info(<span class="stringliteral">&quot;my_data&quot;</span>, <span class="stringliteral">&quot;.jpg&quot;</span>);</div>
<div class="line">info.setCompression(<span class="stringliteral">&quot;JPEG QUALITY=95&quot;</span>);</div>
<div class="line"><a class="code" href="group__VolumeImpex.html#gac9a23a3dac8373296367f882493d2d60">exportVolume</a>(volume, info);</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
vigra 1.11.0 (Thu Mar 17 2016)
</i>
</tr>
</table>
</BODY>
</HTML>
