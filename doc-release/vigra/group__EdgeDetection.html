<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>vigra - Edge Detection</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
<link rel=stylesheet type="text/css" href="vigra_1_8_2.css">
<link rel="shortcut icon" href="vigra-icon.ico" />
<script type="text/javascript">
function toggleHiddenDocumentation( textID, toggleID, toggleMessage )
{
	if( document.getElementById(textID).style.display == 'none' )
    {
		document.getElementById(textID).style.display = 'block';
        document.getElementById(toggleID).innerHTML = "hide " + toggleMessage;
    }
    else
    {
		document.getElementById(textID).style.display = 'none';
        document.getElementById(toggleID).innerHTML = "show " + toggleMessage;
	}
    return false;
}
</script>
<script>
var runOnLoad=function(c,o,d,e){function x(){for(e=1;c.length;)c.shift()()}o[d]?(document[d]('DOMContentLoaded',x,0),o[d]('load',x,0)):o.attachEvent('onload',x);return function(t){e?o.setTimeout(t,0):c.push(t)}}([],window,'addEventListener');
</script>
<script type="text/javascript" src="documents/CollapsibleLists.js"></script>
<script type="text/javascript">
    runOnLoad(function(){ CollapsibleLists.apply(); });
</script>
<style type="text/css">
.collapsibleList li.collapsibleListOpen{
  list-style-image:url('documents/pfeil.gif');
  cursor:pointer;
}
.collapsibleList li.collapsibleListClosed{
  list-style-image:url('documents/bullet.gif');
  cursor:pointer;
}
.collapsibleList li.lastItem{
  list-style-image:url('documents/diamond.gif');
}
</style>
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://ukoethe.github.io/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" title="Detailed Description" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">Edge Detection
</td>
<td align=right><a href="http://hci.iwr.uni-heidelberg.de/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif" title="VIGRA Homepage"></a></td></tr>
</table><p>

<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1Edgel.html">Edgel</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga372f1a443c561d454cf46a517f0425e0"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga372f1a443c561d454cf46a517f0425e0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#ga372f1a443c561d454cf46a517f0425e0">beautifyCrackEdgeImage</a> (...)</td></tr>
<tr class="memdesc:ga372f1a443c561d454cf46a517f0425e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Beautify crack edge image for visualization.  <a href="#ga372f1a443c561d454cf46a517f0425e0">More...</a><br/></td></tr>
<tr class="separator:ga372f1a443c561d454cf46a517f0425e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga729ddcc1323a9c0fd31c52812f08adb6"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga729ddcc1323a9c0fd31c52812f08adb6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#ga729ddcc1323a9c0fd31c52812f08adb6">cannyEdgeImage</a> (...)</td></tr>
<tr class="memdesc:ga729ddcc1323a9c0fd31c52812f08adb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect and mark edges in an edge image using Canny's algorithm.  <a href="#ga729ddcc1323a9c0fd31c52812f08adb6">More...</a><br/></td></tr>
<tr class="separator:ga729ddcc1323a9c0fd31c52812f08adb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad24417dac847a49d349da6092d86fa7f"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:gad24417dac847a49d349da6092d86fa7f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#gad24417dac847a49d349da6092d86fa7f">cannyEdgeImageFromGradWithThinning</a> (...)</td></tr>
<tr class="memdesc:gad24417dac847a49d349da6092d86fa7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect and mark edges in an edge image using Canny's algorithm.  <a href="#gad24417dac847a49d349da6092d86fa7f">More...</a><br/></td></tr>
<tr class="separator:gad24417dac847a49d349da6092d86fa7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9aa609d12e327e0d633047b78d61c84e"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga9aa609d12e327e0d633047b78d61c84e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#ga9aa609d12e327e0d633047b78d61c84e">cannyEdgeImageWithThinning</a> (...)</td></tr>
<tr class="memdesc:ga9aa609d12e327e0d633047b78d61c84e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect and mark edges in an edge image using Canny's algorithm.  <a href="#ga9aa609d12e327e0d633047b78d61c84e">More...</a><br/></td></tr>
<tr class="separator:ga9aa609d12e327e0d633047b78d61c84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2233c5ec0e42a15134feda453f6fca5"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:gaf2233c5ec0e42a15134feda453f6fca5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5">cannyEdgelList</a> (...)</td></tr>
<tr class="memdesc:gaf2233c5ec0e42a15134feda453f6fca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple implementation of Canny's edge detector.  <a href="#gaf2233c5ec0e42a15134feda453f6fca5">More...</a><br/></td></tr>
<tr class="separator:gaf2233c5ec0e42a15134feda453f6fca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04e860482291f33d59c0992b479041e6"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga04e860482291f33d59c0992b479041e6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#ga04e860482291f33d59c0992b479041e6">cannyEdgelList3x3</a> (...)</td></tr>
<tr class="memdesc:ga04e860482291f33d59c0992b479041e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Improved implementation of Canny's edge detector.  <a href="#ga04e860482291f33d59c0992b479041e6">More...</a><br/></td></tr>
<tr class="separator:ga04e860482291f33d59c0992b479041e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23436177c86663716d99e7dd43b6620f"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga23436177c86663716d99e7dd43b6620f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#ga23436177c86663716d99e7dd43b6620f">cannyEdgelList3x3Threshold</a> (...)</td></tr>
<tr class="memdesc:ga23436177c86663716d99e7dd43b6620f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Improved implementation of Canny's edge detector with thresholding.  <a href="#ga23436177c86663716d99e7dd43b6620f">More...</a><br/></td></tr>
<tr class="separator:ga23436177c86663716d99e7dd43b6620f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56f43f065071a98fa8785867a70e2a67"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga56f43f065071a98fa8785867a70e2a67"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#ga56f43f065071a98fa8785867a70e2a67">cannyEdgelListThreshold</a> (...)</td></tr>
<tr class="memdesc:ga56f43f065071a98fa8785867a70e2a67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Canny's edge detector with thresholding.  <a href="#ga56f43f065071a98fa8785867a70e2a67">More...</a><br/></td></tr>
<tr class="separator:ga56f43f065071a98fa8785867a70e2a67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9c56ad0d2769ad7ddca5708e7adfee5"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:gab9c56ad0d2769ad7ddca5708e7adfee5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#gab9c56ad0d2769ad7ddca5708e7adfee5">closeGapsInCrackEdgeImage</a> (...)</td></tr>
<tr class="memdesc:gab9c56ad0d2769ad7ddca5708e7adfee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close one-pixel wide gaps in a cell grid edge image.  <a href="#gab9c56ad0d2769ad7ddca5708e7adfee5">More...</a><br/></td></tr>
<tr class="separator:gab9c56ad0d2769ad7ddca5708e7adfee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52ce27e210e918ed15281dff03ee712e"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga52ce27e210e918ed15281dff03ee712e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#ga52ce27e210e918ed15281dff03ee712e">differenceOfExponentialCrackEdgeImage</a> (...)</td></tr>
<tr class="memdesc:ga52ce27e210e918ed15281dff03ee712e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect and mark edges in a crack edge image using the Shen/Castan zero-crossing detector.  <a href="#ga52ce27e210e918ed15281dff03ee712e">More...</a><br/></td></tr>
<tr class="separator:ga52ce27e210e918ed15281dff03ee712e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82468161d9b270516e72ab0bc76f63b7"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga82468161d9b270516e72ab0bc76f63b7"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#ga82468161d9b270516e72ab0bc76f63b7">differenceOfExponentialEdgeImage</a> (...)</td></tr>
<tr class="memdesc:ga82468161d9b270516e72ab0bc76f63b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect and mark edges in an edge image using the Shen/Castan zero-crossing detector.  <a href="#ga82468161d9b270516e72ab0bc76f63b7">More...</a><br/></td></tr>
<tr class="separator:ga82468161d9b270516e72ab0bc76f63b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f9601dcf8f062b88b8cb80b8fdd76a5"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga6f9601dcf8f062b88b8cb80b8fdd76a5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__EdgeDetection.html#ga6f9601dcf8f062b88b8cb80b8fdd76a5">removeShortEdges</a> (...)</td></tr>
<tr class="memdesc:ga6f9601dcf8f062b88b8cb80b8fdd76a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove short edges from an edge image.  <a href="#ga6f9601dcf8f062b88b8cb80b8fdd76a5">More...</a><br/></td></tr>
<tr class="separator:ga6f9601dcf8f062b88b8cb80b8fdd76a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="_details" id="details"></a><h2 class="details_section">Detailed Description</h2>
<p>Edge detectors based on first and second derivatives, and related post-processing. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga82468161d9b270516e72ab0bc76f63b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::differenceOfExponentialEdgeImage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect and mark edges in an edge image using the Shen/Castan zero-crossing detector. </p>
<p>This operator applies an exponential filter to the source image at the given <code>scale</code> and subtracts the result from the original image. Zero crossings are detected in the resulting difference image. Whenever the gradient at a zero crossing is greater than the given <code>gradient_threshold</code>, an edge point is marked (using <code>edge_marker</code>) in the destination image on the darker side of the zero crossing (note that zero crossings occur <em>between</em> pixels). For example:</p>
<div class="fragment"><div class="line"><a class="code" href="group__MathFunctions.html#ga99756ca23b738bdc82afba3b0e49df74">sign</a> of difference image     resulting <a class="code" href="group__BoostGraphExtensions.html#gae22bb5a14f3afba5e8e9c4c42cad1acc">edge</a> points (*)</div>
<div class="line"></div>
<div class="line">    + - -                          * * .</div>
<div class="line">    + + -               =&gt;         . * *</div>
<div class="line">    + + +                          . . .</div>
</div><!-- fragment --><p>Non-edge pixels (<code>.</code>) remain untouched in the destination image. The result can be improved by the post-processing operation <a class="el" href="group__EdgeDetection.html#ga6f9601dcf8f062b88b8cb80b8fdd76a5">removeShortEdges()</a>. A more accurate edge placement can be achieved with the function <a class="el" href="group__EdgeDetection.html#ga52ce27e210e918ed15281dff03ee712e">differenceOfExponentialCrackEdgeImage()</a>.</p>
<p>The source value type (<code>SrcAccessor::value_type</code>) must be a linear algebra, i.e. addition, subtraction and multiplication of the type with itself, and multiplication with double and <a class="el" href="NumericTraits.html">NumericTraits</a> must be defined. In addition, this type must be less-comparable.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>T1, <span class="keyword">class </span>S1,</div>
<div class="line">              <span class="keyword">class </span>T2, <span class="keyword">class </span>S2,</div>
<div class="line">              <span class="keyword">class </span>GradValue, <span class="keyword">class </span>DestValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga82468161d9b270516e72ab0bc76f63b7">differenceOfExponentialEdgeImage</a>(MultiArrayView&lt;2, T1, S1&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                                     MultiArrayView&lt;2, T2, S2&gt; dest,</div>
<div class="line">                                     <span class="keywordtype">double</span> scale,</div>
<div class="line">                                     GradValue gradient_threshold,</div>
<div class="line">                                     DestValue edge_marker = NumericTraits&lt;DestValue&gt;::one());</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="differenceOfExponentialEdgeImage_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;differenceOfExponentialEdgeImage_OldAPI&apos;, &apos;differenceOfExponentialEdgeImage_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="differenceOfExponentialEdgeImage_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">          <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">          <span class="keyword">class </span>GradValue,</div>
<div class="line">          <span class="keyword">class </span>DestValue = DestAccessor::value_type&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga82468161d9b270516e72ab0bc76f63b7">differenceOfExponentialEdgeImage</a>(</div>
<div class="line">           SrcIterator sul, SrcIterator slr, SrcAccessor sa,</div>
<div class="line">           DestIterator dul, DestAccessor da,</div>
<div class="line">           <span class="keywordtype">double</span> scale, GradValue gradient_threshold,</div>
<div class="line">           DestValue edge_marker = NumericTraits&lt;DestValue&gt;::one())</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">          <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">          <span class="keyword">class </span>GradValue,</div>
<div class="line">          <span class="keyword">class </span>DestValue = DestAccessor::value_type&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga82468161d9b270516e72ab0bc76f63b7">differenceOfExponentialEdgeImage</a>(</div>
<div class="line">           triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">           pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">           <span class="keywordtype">double</span> scale, GradValue gradient_threshold,</div>
<div class="line">           DestValue edge_marker = NumericTraits&lt;DestValue&gt;::one())</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(w,h);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">differenceOfExponentialEdgeImage(src, <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>,</div>
<div class="line">                                 0.8, 4.0, 1);</div>
</div><!-- fragment --><p><a href="#" id="differenceOfExponentialEdgeImage_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;differenceOfExponentialEdgeImage_OldUsage&apos;, &apos;differenceOfExponentialEdgeImage_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="differenceOfExponentialEdgeImage_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edge image</span></div>
<div class="line"><a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a> = 0;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">vigra::differenceOfExponentialEdgeImage(srcImageRange(src), destImage(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>),</div>
<div class="line">                                 0.8, 4.0, 1);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft, src_lowerright;</div>
<div class="line">DestImageIterator dest_upperleft;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"><span class="keywordtype">double</span> d;</div>
<div class="line">GradValue gradient_threshold;</div>
<div class="line"></div>
<div class="line">u = u + u</div>
<div class="line">u = u - u</div>
<div class="line">u = u * u</div>
<div class="line">u = d * u</div>
<div class="line">u &lt; gradient_threshold</div>
<div class="line"></div>
<div class="line">DestValue edge_marker;</div>
<div class="line">dest_accessor.set(edge_marker, dest_upperleft);</div>
</div><!-- fragment --> </div><p><b> Preconditions:</b></p>
<div class="fragment"><div class="line">scale &gt; 0</div>
<div class="line">gradient_threshold &gt; 0</div>
</div><!-- fragment --> <dl><dt><b>Examples: </b></dt><dd><a class="el" href="edge_8cxx-example.html#a6">edge.cxx</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga52ce27e210e918ed15281dff03ee712e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::differenceOfExponentialCrackEdgeImage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect and mark edges in a crack edge image using the Shen/Castan zero-crossing detector. </p>
<p>This operator applies an exponential filter to the source image at the given <code>scale</code> and subtracts the result from the original image. Zero crossings are detected in the resulting difference image. Whenever the gradient at a zero crossing is greater than the given <code>gradient_threshold</code>, an edge point is marked (using <code>edge_marker</code>) in the destination image <em>between</em> the corresponding original pixels. Topologically, this means we must insert additional pixels between the original ones to represent the boundaries between the pixels (the so called zero- and one-cells, with the original pixels being two-cells). Within VIGRA, such an image is called <a class="el" href="CrackEdgeImage.html">Crack Edge Image</a>. To allow insertion of the zero- and one-cells, the destination image must have twice the size of the original (precisely, <code>(2*w-1)</code> by <code>(2*h-1)</code> pixels). Then the algorithm proceeds as follows:</p>
<div class="fragment"><div class="line"><a class="code" href="group__MathFunctions.html#ga99756ca23b738bdc82afba3b0e49df74">sign</a> of difference image     insert zero- and one-cells     resulting <a class="code" href="group__BoostGraphExtensions.html#gae22bb5a14f3afba5e8e9c4c42cad1acc">edge</a> points (*)</div>
<div class="line"></div>
<div class="line">                                     + . - . -                   . * . . .</div>
<div class="line">      + - -                          . . . . .                   . * * * .</div>
<div class="line">      + + -               =&gt;         + . + . -           =&gt;      . . . * .</div>
<div class="line">      + + +                          . . . . .                   . . . * *</div>
<div class="line">                                     + . + . +                   . . . . .</div>
</div><!-- fragment --><p>Thus the edge points are marked where they actually are - in between the pixels. An important property of the resulting edge image is that it conforms to the notion of well-composedness as defined by Latecki et al., i.e. connected regions and edges obtained by a subsequent <a class="el" href="group__Labeling.html">Connected Components Labeling</a> do not depend on whether 4- or 8-connectivity is used. The non-edge pixels (<code>.</code>) in the destination image remain unchanged. The result conforms to the requirements of a <a class="el" href="CrackEdgeImage.html">Crack Edge Image</a>. It can be further improved by the post-processing operations <a class="el" href="group__EdgeDetection.html#ga6f9601dcf8f062b88b8cb80b8fdd76a5">removeShortEdges()</a> and <a class="el" href="group__EdgeDetection.html#gab9c56ad0d2769ad7ddca5708e7adfee5">closeGapsInCrackEdgeImage()</a>.</p>
<p>The source value type (<code>SrcAccessor::value_type</code>) must be a linear algebra, i.e. addition, subtraction and multiplication of the type with itself, and multiplication with double and <a class="el" href="NumericTraits.html">NumericTraits</a> must be defined. In addition, this type must be less-comparable.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>T1, <span class="keyword">class </span>S1,</div>
<div class="line">              <span class="keyword">class </span>T2, <span class="keyword">class </span>S2,</div>
<div class="line">              <span class="keyword">class </span>GradValue, <span class="keyword">class </span>DestValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga52ce27e210e918ed15281dff03ee712e">differenceOfExponentialCrackEdgeImage</a>(MultiArrayView&lt;2, T1, S1&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                                          MultiArrayView&lt;2, T2, S2&gt; dest,</div>
<div class="line">                                          <span class="keywordtype">double</span> scale,</div>
<div class="line">                                          GradValue gradient_threshold,</div>
<div class="line">                                          DestValue edge_marker = NumericTraits&lt;DestValue&gt;::one());</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="differenceOfExponentialCrackEdgeImage_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;differenceOfExponentialCrackEdgeImage_OldAPI&apos;, &apos;differenceOfExponentialCrackEdgeImage_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="differenceOfExponentialCrackEdgeImage_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">          <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">          <span class="keyword">class </span>GradValue,</div>
<div class="line">          <span class="keyword">class </span>DestValue = DestAccessor::value_type&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga52ce27e210e918ed15281dff03ee712e">differenceOfExponentialCrackEdgeImage</a>(</div>
<div class="line">           SrcIterator sul, SrcIterator slr, SrcAccessor sa,</div>
<div class="line">           DestIterator dul, DestAccessor da,</div>
<div class="line">           <span class="keywordtype">double</span> scale, GradValue gradient_threshold,</div>
<div class="line">           DestValue edge_marker = NumericTraits&lt;DestValue&gt;::one())</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">          <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">          <span class="keyword">class </span>GradValue,</div>
<div class="line">          <span class="keyword">class </span>DestValue = DestAccessor::value_type&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga52ce27e210e918ed15281dff03ee712e">differenceOfExponentialCrackEdgeImage</a>(</div>
<div class="line">           triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">           pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">           <span class="keywordtype">double</span> scale, GradValue gradient_threshold,</div>
<div class="line">           DestValue edge_marker = NumericTraits&lt;DestValue&gt;::one())</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(2*w-1,2*h-1);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">differenceOfExponentialCrackEdgeImage(src, <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>,</div>
<div class="line">                                      0.8, 4.0, 1);</div>
</div><!-- fragment --><p><a href="#" id="differenceOfExponentialCrackEdgeImage_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;differenceOfExponentialCrackEdgeImage_OldUsage&apos;, &apos;differenceOfExponentialCrackEdgeImage_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="differenceOfExponentialCrackEdgeImage_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(2*w-1,2*h-1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edge image</span></div>
<div class="line"><a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a> = 0;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">vigra::differenceOfExponentialCrackEdgeImage(srcImageRange(src), destImage(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>),</div>
<div class="line">                                 0.8, 4.0, 1);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft, src_lowerright;</div>
<div class="line">DestImageIterator dest_upperleft;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"><span class="keywordtype">double</span> d;</div>
<div class="line">GradValue gradient_threshold;</div>
<div class="line"></div>
<div class="line">u = u + u</div>
<div class="line">u = u - u</div>
<div class="line">u = u * u</div>
<div class="line">u = d * u</div>
<div class="line">u &lt; gradient_threshold</div>
<div class="line"></div>
<div class="line">DestValue edge_marker;</div>
<div class="line">dest_accessor.set(edge_marker, dest_upperleft);</div>
</div><!-- fragment --> </div><p><b> Preconditions:</b></p>
<div class="fragment"><div class="line">scale &gt; 0</div>
<div class="line">gradient_threshold &gt; 0</div>
</div><!-- fragment --><p>The destination image must have twice the size of the source: </p>
<div class="fragment"><div class="line">w_dest = 2 * w_src - 1</div>
<div class="line">h_dest = 2 * h_src - 1</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga6f9601dcf8f062b88b8cb80b8fdd76a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::removeShortEdges </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove short edges from an edge image. </p>
<p>This algorithm can be applied as a post-processing operation of <a class="el" href="group__EdgeDetection.html#ga82468161d9b270516e72ab0bc76f63b7">differenceOfExponentialEdgeImage()</a> and <a class="el" href="group__EdgeDetection.html#ga52ce27e210e918ed15281dff03ee712e">differenceOfExponentialCrackEdgeImage()</a>. It removes all edges that are shorter than <code>min_edge_length</code>. The corresponding pixels are set to the <code>non_edge_marker</code>. The idea behind this algorithms is that very short edges are probably caused by noise and don't represent interesting image structure. Technically, the algorithms executes a connected components labeling, so the image's value type must be equality comparable.</p>
<p>If the source image fulfills the requirements of a <a class="el" href="CrackEdgeImage.html">Crack Edge Image</a>, it will still do so after application of this algorithm.</p>
<p>Note that this algorithm, unlike most other algorithms in VIGRA, operates in-place, i.e. on only one image. Also, the algorithm assumes that all non-edges pixels are already marked with the given <code>non_edge_marker</code> value.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S, <span class="keyword">class</span> Value&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga6f9601dcf8f062b88b8cb80b8fdd76a5">removeShortEdges</a>(MultiArrayView&lt;2, T, S&gt; image,</div>
<div class="line">                     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> min_edge_length, Value non_edge_marker);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="removeShortEdges_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;removeShortEdges_OldAPI&apos;, &apos;removeShortEdges_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="removeShortEdges_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator, <span class="keyword">class</span> Accessor, <span class="keyword">class</span> SrcValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga6f9601dcf8f062b88b8cb80b8fdd76a5">removeShortEdges</a>(</div>
<div class="line">           Iterator sul, Iterator slr, Accessor sa,</div>
<div class="line">           <span class="keywordtype">int</span> min_edge_length, SrcValue non_edge_marker)</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator, <span class="keyword">class</span> Accessor, <span class="keyword">class</span> SrcValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga6f9601dcf8f062b88b8cb80b8fdd76a5">removeShortEdges</a>(</div>
<div class="line">           triple&lt;Iterator, Iterator, Accessor&gt; src,</div>
<div class="line">           <span class="keywordtype">int</span> min_edge_length, SrcValue non_edge_marker)</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(w,h);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">differenceOfExponentialEdgeImage(src, <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>,</div>
<div class="line">                                 0.8, 4.0, 1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// zero edges shorter than 10 pixels</span></div>
<div class="line"><a class="code" href="group__EdgeDetection.html#ga6f9601dcf8f062b88b8cb80b8fdd76a5">removeShortEdges</a>(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>, 10, 0);</div>
</div><!-- fragment --><p><a href="#" id="removeShortEdges_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;removeShortEdges_OldUsage&apos;, &apos;removeShortEdges_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="removeShortEdges_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edge image</span></div>
<div class="line"><a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a> = 0;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">vigra::differenceOfExponentialEdgeImage(srcImageRange(src), destImage(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>),</div>
<div class="line">                                 0.8, 4.0, 1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// zero edges shorter than 10 pixels</span></div>
<div class="line"><a class="code" href="group__EdgeDetection.html#ga6f9601dcf8f062b88b8cb80b8fdd76a5">vigra::removeShortEdges</a>(srcImageRange(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>), 10, 0);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft, src_lowerright;</div>
<div class="line">DestImageIterator dest_upperleft;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"></div>
<div class="line">u == u</div>
<div class="line"></div>
<div class="line">SrcValue non_edge_marker;</div>
<div class="line">src_accessor.set(non_edge_marker, src_upperleft);</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="gab9c56ad0d2769ad7ddca5708e7adfee5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::closeGapsInCrackEdgeImage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close one-pixel wide gaps in a cell grid edge image. </p>
<p>This algorithm is typically applied as a post-processing operation of <a class="el" href="group__EdgeDetection.html#ga52ce27e210e918ed15281dff03ee712e">differenceOfExponentialCrackEdgeImage()</a>. The source image must fulfill the requirements of a <a class="el" href="CrackEdgeImage.html">Crack Edge Image</a>, and will still do so after application of this algorithm.</p>
<p>It closes one pixel wide gaps in the edges resulting from this algorithm. Since these gaps are usually caused by zero crossing slightly below the gradient threshold used in edge detection, this algorithms acts like a weak hysteresis thresholding. The newly found edge pixels are marked with the given <code>edge_marker</code>. The image's value type must be equality comparable.</p>
<p>Note that this algorithm, unlike most other algorithms in VIGRA, operates in-place, i.e. on only one image.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S, <span class="keyword">class</span> Value&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#gab9c56ad0d2769ad7ddca5708e7adfee5">closeGapsInCrackEdgeImage</a>(MultiArrayView&lt;2, T, S&gt; image, Value edge_marker);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="closeGapsInCrackEdgeImage_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;closeGapsInCrackEdgeImage_OldAPI&apos;, &apos;closeGapsInCrackEdgeImage_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="closeGapsInCrackEdgeImage_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> SrcValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#gab9c56ad0d2769ad7ddca5708e7adfee5">closeGapsInCrackEdgeImage</a>(</div>
<div class="line">           SrcIterator sul, SrcIterator slr, SrcAccessor sa,</div>
<div class="line">           SrcValue edge_marker)</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> SrcValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#gab9c56ad0d2769ad7ddca5708e7adfee5">closeGapsInCrackEdgeImage</a>(</div>
<div class="line">           triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">           SrcValue edge_marker)</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(2*w-1, 2*h-1);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">differenceOfExponentialCrackEdgeImage(src, <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>,</div>
<div class="line">                                      0.8, 4.0, 1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// close gaps, mark with 1</span></div>
<div class="line"><a class="code" href="group__EdgeDetection.html#gab9c56ad0d2769ad7ddca5708e7adfee5">closeGapsInCrackEdgeImage</a>(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>, 1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// zero edges shorter than 20 pixels</span></div>
<div class="line"><a class="code" href="group__EdgeDetection.html#ga6f9601dcf8f062b88b8cb80b8fdd76a5">removeShortEdges</a>(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>, 10, 0);</div>
</div><!-- fragment --><p><a href="#" id="closeGapsInCrackEdgeImage_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;closeGapsInCrackEdgeImage_OldUsage&apos;, &apos;closeGapsInCrackEdgeImage_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="closeGapsInCrackEdgeImage_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(2*w-1, 2*h-1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edge image</span></div>
<div class="line"><a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a> = 0;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">vigra::differenceOfExponentialCrackEdgeImage(srcImageRange(src), destImage(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>),</div>
<div class="line">                                     0.8, 4.0, 1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// close gaps, mark with 1</span></div>
<div class="line"><a class="code" href="group__EdgeDetection.html#gab9c56ad0d2769ad7ddca5708e7adfee5">vigra::closeGapsInCrackEdgeImage</a>(srcImageRange(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>), 1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// zero edges shorter than 20 pixels</span></div>
<div class="line"><a class="code" href="group__EdgeDetection.html#ga6f9601dcf8f062b88b8cb80b8fdd76a5">vigra::removeShortEdges</a>(srcImageRange(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>), 10, 0);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft, src_lowerright;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"></div>
<div class="line">u == u</div>
<div class="line">u != u</div>
<div class="line"></div>
<div class="line">SrcValue edge_marker;</div>
<div class="line">src_accessor.set(edge_marker, src_upperleft);</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ga372f1a443c561d454cf46a517f0425e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::beautifyCrackEdgeImage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Beautify crack edge image for visualization. </p>
<p>This algorithm is applied as a post-processing operation of <a class="el" href="group__EdgeDetection.html#ga52ce27e210e918ed15281dff03ee712e">differenceOfExponentialCrackEdgeImage()</a>. The source image must fulfill the requirements of a <a class="el" href="CrackEdgeImage.html">Crack Edge Image</a>, but will <b> not</b> do so after application of this algorithm. In particular, the algorithm removes zero-cells marked as edges to avoid staircase effects on diagonal lines like this:</p>
<div class="fragment"><div class="line">original <a class="code" href="group__BoostGraphExtensions.html#gae22bb5a14f3afba5e8e9c4c42cad1acc">edge</a> points (*)     resulting <a class="code" href="group__BoostGraphExtensions.html#gae22bb5a14f3afba5e8e9c4c42cad1acc">edge</a> points</div>
<div class="line"></div>
<div class="line">      . * . . .                   . * . . .</div>
<div class="line">      . * * * .                   . . * . .</div>
<div class="line">      . . . * .           =&gt;      . . . * .</div>
<div class="line">      . . . * *                   . . . . *</div>
<div class="line">      . . . . .                   . . . . .</div>
</div><!-- fragment --><p>Therefore, this algorithm should only be applied as a visualization aid, i.e. for human inspection. The algorithm assumes that edges are marked with <code>edge_marker</code>, and background pixels with <code>background_marker</code>. The image's value type must be equality comparable.</p>
<p>Note that this algorithm, unlike most other algorithms in VIGRA, operates in-place, i.e. on only one image.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S, <span class="keyword">class</span> Value&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga372f1a443c561d454cf46a517f0425e0">beautifyCrackEdgeImage</a>(MultiArrayView&lt;2, T, S&gt; image,</div>
<div class="line">                           Value edge_marker, Value background_marker);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="beautifyCrackEdgeImage_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;beautifyCrackEdgeImage_OldAPI&apos;, &apos;beautifyCrackEdgeImage_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="beautifyCrackEdgeImage_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> SrcValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga372f1a443c561d454cf46a517f0425e0">beautifyCrackEdgeImage</a>(</div>
<div class="line">           SrcIterator sul, SrcIterator slr, SrcAccessor sa,</div>
<div class="line">           SrcValue edge_marker, SrcValue background_marker)</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> SrcValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga372f1a443c561d454cf46a517f0425e0">beautifyCrackEdgeImage</a>(</div>
<div class="line">               triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">           SrcValue edge_marker, SrcValue background_marker)</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(2*w-1, 2*h-1);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">differenceOfExponentialCrackEdgeImage(src, <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>,</div>
<div class="line">                                      0.8, 4.0, 1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// beautify edge image for visualization</span></div>
<div class="line"><a class="code" href="group__EdgeDetection.html#ga372f1a443c561d454cf46a517f0425e0">beautifyCrackEdgeImage</a>(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>, 1, 0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// show to the user (&#39;window&#39; is an unspecified GUI widget to display VIGRA images)</span></div>
<div class="line">window.open(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>);</div>
</div><!-- fragment --><p><a href="#" id="beautifyCrackEdgeImage_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;beautifyCrackEdgeImage_OldUsage&apos;, &apos;beautifyCrackEdgeImage_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="beautifyCrackEdgeImage_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(2*w-1, 2*h-1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edge image</span></div>
<div class="line"><a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a> = 0;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">vigra::differenceOfExponentialCrackEdgeImage(srcImageRange(src), destImage(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>),</div>
<div class="line">                                     0.8, 4.0, 1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// beautify edge image for visualization</span></div>
<div class="line"><a class="code" href="group__EdgeDetection.html#ga372f1a443c561d454cf46a517f0425e0">vigra::beautifyCrackEdgeImage</a>(destImageRange(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>), 1, 0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// show to the user</span></div>
<div class="line">window.open(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft, src_lowerright;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"></div>
<div class="line">u == u</div>
<div class="line">u != u</div>
<div class="line"></div>
<div class="line">SrcValue background_marker;</div>
<div class="line">src_accessor.set(background_marker, src_upperleft);</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="gaf2233c5ec0e42a15134feda453f6fca5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::cannyEdgelList </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple implementation of Canny's edge detector. </p>
<p>The function can be called in two modes: If you pass a 'scale', it is assumed that the original image is scalar, and the <a class="el" href="classvigra_1_1Gaussian.html">Gaussian</a> gradient is internally computed at the given 'scale'. If the function is called without scale parameter, it is assumed that the given image already contains the gradient (i.e. its value_type must be a vector of length 2).</p>
<p>On the basis of the gradient image, a simple non-maxima suppression is performed: for each 3x3 neighborhood, it is determined whether the center pixel has larger gradient magnitude than its two neighbors in gradient direction (where the direction is rounded into octants). If this is the case, a new <a class="el" href="classvigra_1_1Edgel.html">Edgel</a> is appended to the given vector of <code>edgels</code>. The subpixel edgel position is determined by fitting a parabola to the three gradient magnitude values mentioned above. The sub-pixel location of the parabola's tip and the gradient magnitude and direction (from the pixel center) are written in the newly created edgel.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5">cannyEdgelList</a>(MultiArrayView&lt;2, T, S&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                   BackInsertable &amp; edgels,</div>
<div class="line">                   <span class="keywordtype">double</span> scale);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a pre-computed gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5">cannyEdgelList</a>(MultiArrayView&lt;2, TinyVector&lt;T, 2&gt;, S&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                   BackInsertable &amp; edgels);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgelList_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgelList_OldAPI&apos;, &apos;cannyEdgelList_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="cannyEdgelList_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5">cannyEdgelList</a>(SrcIterator ul, SrcIterator lr, SrcAccessor src,</div>
<div class="line">                   BackInsertable &amp; edgels);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5">cannyEdgelList</a>(SrcIterator ul, SrcIterator lr, SrcAccessor src,</div>
<div class="line">                   BackInsertable &amp; edgels, <span class="keywordtype">double</span> scale);</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5">cannyEdgelList</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                   BackInsertable &amp; edgels);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5">cannyEdgelList</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                   BackInsertable &amp; edgels, <span class="keywordtype">double</span> scale);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// create empty edgel list</span></div>
<div class="line">std::vector&lt;vigra::Edgel&gt; edgels;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edgels at scale 0.8</span></div>
<div class="line">cannyEdgelList(src, edgels, 0.8);</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgelList_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgelList_OldUsage&apos;, &apos;cannyEdgelList_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="cannyEdgelList_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edgel list</span></div>
<div class="line">std::vector&lt;vigra::Edgel&gt; edgels;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edgels at scale 0.8</span></div>
<div class="line">vigra::cannyEdgelList(srcImageRange(src), edgels, 0.8);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft;</div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line"></div>
<div class="line">src_accessor(src_upperleft);</div>
<div class="line"></div>
<div class="line">BackInsertable edgels;</div>
<div class="line">edgels.push_back(Edgel());</div>
</div><!-- fragment --><p> SrcAccessor::value_type must be a type convertible to float </div><p><b> Preconditions:</b></p>
<div class="fragment"><div class="line">scale &gt; 0</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga56f43f065071a98fa8785867a70e2a67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::cannyEdgelListThreshold </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Canny's edge detector with thresholding. </p>
<p>This function works exactly like <a class="el" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5">cannyEdgelList()</a>, but you also pass a threshold for the minimal gradient magnitude, so that edgels whose strength is below the threshold are not inserted into the edgel list.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>T, <span class="keyword">class </span>S, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga56f43f065071a98fa8785867a70e2a67">cannyEdgelListThreshold</a>(MultiArrayView&lt;2, T, S&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                            BackInsertable &amp; edgels,</div>
<div class="line">                            <span class="keywordtype">double</span> scale,</div>
<div class="line">                            GradValue grad_threshold);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a pre-computed gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>T, <span class="keyword">class </span>S, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga56f43f065071a98fa8785867a70e2a67">cannyEdgelListThreshold</a>(MultiArrayView&lt;2, TinyVector&lt;T, 2&gt;, S&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                            BackInsertable &amp; edgels,</div>
<div class="line">                            GradValue grad_threshold);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgelListThreshold_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgelListThreshold_OldAPI&apos;, &apos;cannyEdgelListThreshold_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="cannyEdgelListThreshold_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga56f43f065071a98fa8785867a70e2a67">cannyEdgelListThreshold</a>(SrcIterator ul, SrcIterator lr, SrcAccessor src,</div>
<div class="line">                            BackInsertable &amp; edgels, GradValue grad_threshold);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga56f43f065071a98fa8785867a70e2a67">cannyEdgelListThreshold</a>(SrcIterator ul, SrcIterator lr, SrcAccessor src,</div>
<div class="line">                            BackInsertable &amp; edgels, <span class="keywordtype">double</span> scale, GradValue grad_threshold);</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga56f43f065071a98fa8785867a70e2a67">cannyEdgelListThreshold</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                            BackInsertable &amp; edgels, GradValue grad_threshold);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga56f43f065071a98fa8785867a70e2a67">cannyEdgelListThreshold</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                            BackInsertable &amp; edgels, <span class="keywordtype">double</span> scale, GradValue grad_threshold);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// create empty edgel list</span></div>
<div class="line">std::vector&lt;vigra::Edgel&gt; edgels;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edgels at scale 0.8, only considering gradient magnitudes above 2.0</span></div>
<div class="line">cannyEdgelListThreshold(src, edgels, 0.8, 2.0);</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgelListThreshold_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgelListThreshold_OldUsage&apos;, &apos;cannyEdgelListThreshold_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="cannyEdgelListThreshold_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edgel list</span></div>
<div class="line">std::vector&lt;vigra::Edgel&gt; edgels;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edgels at scale 0.8, only considering gradient above 2.0</span></div>
<div class="line">vigra::cannyEdgelListThreshold(srcImageRange(src), edgels, 0.8, 2.0);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft;</div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line"></div>
<div class="line">src_accessor(src_upperleft);</div>
<div class="line"></div>
<div class="line">BackInsertable edgels;</div>
<div class="line">edgels.push_back(Edgel());</div>
</div><!-- fragment --><p> SrcAccessor::value_type must be a type convertible to float </div><p><b> Preconditions:</b></p>
<div class="fragment"><div class="line">scale &gt; 0</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga729ddcc1323a9c0fd31c52812f08adb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::cannyEdgeImage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect and mark edges in an edge image using Canny's algorithm. </p>
<p>This operator first calls <a class="el" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5">cannyEdgelList()</a> with the given scale to generate an edgel list for the given image. Then it scans this list and selects edgels whose strength is above the given <code>gradient_threshold</code>. For each of these edgels, the edgel's location is rounded to the nearest pixel, and that pixel marked with the given <code>edge_marker</code>.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>T1, <span class="keyword">class </span>S1,</div>
<div class="line">              <span class="keyword">class </span>T2, <span class="keyword">class </span>S2,</div>
<div class="line">              <span class="keyword">class </span>GradValue, <span class="keyword">class </span>DestValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga729ddcc1323a9c0fd31c52812f08adb6">cannyEdgeImage</a>(MultiArrayView&lt;2, T1, S1&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                   MultiArrayView&lt;2, T2, S2&gt; dest,</div>
<div class="line">                   <span class="keywordtype">double</span> scale,</div>
<div class="line">                   GradValue gradient_threshold,</div>
<div class="line">                   DestValue edge_marker);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgeImage_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgeImage_OldAPI&apos;, &apos;cannyEdgeImage_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="cannyEdgeImage_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">              <span class="keyword">class </span>GradValue, <span class="keyword">class </span>DestValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga729ddcc1323a9c0fd31c52812f08adb6">cannyEdgeImage</a>(</div>
<div class="line">               SrcIterator sul, SrcIterator slr, SrcAccessor sa,</div>
<div class="line">               DestIterator dul, DestAccessor da,</div>
<div class="line">               <span class="keywordtype">double</span> scale, GradValue gradient_threshold, DestValue edge_marker);</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">              <span class="keyword">class </span>GradValue, <span class="keyword">class </span>DestValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga729ddcc1323a9c0fd31c52812f08adb6">cannyEdgeImage</a>(</div>
<div class="line">               triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">               pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">               <span class="keywordtype">double</span> scale, GradValue gradient_threshold, DestValue edge_marker);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(w,h);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">cannyEdgeImage(src, <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>, 0.8, 4.0, 1);</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgeImage_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgeImage_OldUsage&apos;, &apos;cannyEdgeImage_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="cannyEdgeImage_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edge image</span></div>
<div class="line"><a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a> = 0;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1</span></div>
<div class="line">vigra::cannyEdgeImage(srcImageRange(src), destImage(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>),</div>
<div class="line">                                 0.8, 4.0, 1);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> see also: <a class="el" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5">cannyEdgelList()</a>. </p>
<div class="fragment"><div class="line">DestImageIterator dest_upperleft;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line">DestValue edge_marker;</div>
<div class="line"></div>
<div class="line">dest_accessor.set(edge_marker, dest_upperleft, <a class="code" href="classvigra_1_1Diff2D.html">vigra::Diff2D</a>(1,1));</div>
</div><!-- fragment --> </div><p><b> Preconditions:</b></p>
<div class="fragment"><div class="line">scale &gt; 0</div>
<div class="line">gradient_threshold &gt; 0</div>
</div><!-- fragment --> <dl><dt><b>Examples: </b></dt><dd><a class="el" href="edge_8cxx-example.html#a7">edge.cxx</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gad24417dac847a49d349da6092d86fa7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::cannyEdgeImageFromGradWithThinning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect and mark edges in an edge image using Canny's algorithm. </p>
<p>The input pixels of this algorithm must be vectors of length 2 (see Required Interface below). It first searches for all pixels whose gradient magnitude is larger than the given <code>gradient_threshold</code> and larger than the magnitude of its two neighbors in gradient direction (where these neighbors are determined by nearest neighbor interpolation, i.e. according to the octant where the gradient points into). The resulting edge pixel candidates are then subjected to topological thinning so that the remaining edge pixels can be linked into edgel chains with a provable, non-heuristic algorithm. Thinning is performed so that the pixels with highest gradient magnitude survive. Optionally, the outermost pixels are marked as edge pixels as well when <code>addBorder</code> is true. The remaining pixels will be marked in the destination image with the value of <code>edge_marker</code> (all non-edge pixels remain untouched).</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>T1, <span class="keyword">class </span>S1,</div>
<div class="line">              <span class="keyword">class </span>T2, <span class="keyword">class </span>S2,</div>
<div class="line">              <span class="keyword">class </span>GradValue, <span class="keyword">class </span>DestValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#gad24417dac847a49d349da6092d86fa7f">cannyEdgeImageFromGradWithThinning</a>(MultiArrayView&lt;2, TinyVector&lt;T1, 2&gt;, S1&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                                       MultiArrayView&lt;2, T2, S2&gt; dest,</div>
<div class="line">                                       GradValue gradient_threshold,</div>
<div class="line">                                       DestValue edge_marker,</div>
<div class="line">                                       <span class="keywordtype">bool</span> addBorder = <span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgeImageFromGradWithThinning_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgeImageFromGradWithThinning_OldAPI&apos;, &apos;cannyEdgeImageFromGradWithThinning_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="cannyEdgeImageFromGradWithThinning_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">              <span class="keyword">class </span>GradValue, <span class="keyword">class </span>DestValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#gad24417dac847a49d349da6092d86fa7f">cannyEdgeImageFromGradWithThinning</a>(</div>
<div class="line">               SrcIterator sul, SrcIterator slr, SrcAccessor sa,</div>
<div class="line">               DestIterator dul, DestAccessor da,</div>
<div class="line">               GradValue gradient_threshold,</div>
<div class="line">               DestValue edge_marker, <span class="keywordtype">bool</span> addBorder = <span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">              <span class="keyword">class </span>GradValue, <span class="keyword">class </span>DestValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#gad24417dac847a49d349da6092d86fa7f">cannyEdgeImageFromGradWithThinning</a>(</div>
<div class="line">               triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">               pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">               GradValue gradient_threshold,</div>
<div class="line">               DestValue edge_marker, <span class="keywordtype">bool</span> addBorder = <span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(w,h);</div>
<div class="line"></div>
<div class="line">MultiArray&lt;2, TinyVector&lt;float, 2&gt; &gt; grad(w,h);</div>
<div class="line"><span class="comment">// compute the image gradient at scale 0.8</span></div>
<div class="line"><a class="code" href="group__ConvolutionFilters.html#ga1eedd3703e4ab90a2f8926a453fe6a8f">gaussianGradient</a>(src, grad, 0.8);</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges with gradient larger than 4.0, mark with 1, and add border</span></div>
<div class="line"><a class="code" href="group__EdgeDetection.html#gad24417dac847a49d349da6092d86fa7f">cannyEdgeImageFromGradWithThinning</a>(grad, <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>, 4.0, 1, <span class="keyword">true</span>);</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgeImageFromGradWithThinning_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgeImageFromGradWithThinning_OldUsage&apos;, &apos;cannyEdgeImageFromGradWithThinning_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="cannyEdgeImageFromGradWithThinning_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(w,h);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::FVector2Image</a> grad(w,h);</div>
<div class="line"><span class="comment">// compute the image gradient at scale 0.8</span></div>
<div class="line"><a class="code" href="group__ConvolutionFilters.html#ga1eedd3703e4ab90a2f8926a453fe6a8f">vigra::gaussianGradient</a>(srcImageRange(src), destImage(grad), 0.8);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edge image</span></div>
<div class="line"><a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a> = 0;</div>
<div class="line"><span class="comment">// find edges gradient larger than 4.0, mark with 1, and add border</span></div>
<div class="line"><a class="code" href="group__EdgeDetection.html#gad24417dac847a49d349da6092d86fa7f">vigra::cannyEdgeImageFromGradWithThinning</a>(srcImageRange(grad), destImage(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>),</div>
<div class="line">                                          4.0, 1, <span class="keyword">true</span>);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line"><span class="comment">// the input pixel type must be a vector with two elements</span></div>
<div class="line">SrcImageIterator src_upperleft;</div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line"><span class="keyword">typedef</span> SrcAccessor::value_type SrcPixel;</div>
<div class="line"><span class="keyword">typedef</span> NormTraits&lt;SrcPixel&gt;::SquaredNormType SrcSquaredNormType;</div>
<div class="line"></div>
<div class="line">SrcPixel g = src_accessor(src_upperleft);</div>
<div class="line">SrcPixel::value_type g0 = g[0];</div>
<div class="line">SrcSquaredNormType gn = <a class="code" href="group__FFTWComplexOperators.html#ga484df995dad9821aac02ec42cd58f7eb">squaredNorm</a>(g);</div>
<div class="line"></div>
<div class="line">DestImageIterator dest_upperleft;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line">DestValue edge_marker;</div>
<div class="line"></div>
<div class="line">dest_accessor.set(edge_marker, dest_upperleft, <a class="code" href="classvigra_1_1Diff2D.html">vigra::Diff2D</a>(1,1));</div>
</div><!-- fragment --> </div><p><b> Preconditions:</b></p>
<div class="fragment"><div class="line">gradient_threshold &gt; 0</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga9aa609d12e327e0d633047b78d61c84e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::cannyEdgeImageWithThinning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect and mark edges in an edge image using Canny's algorithm. </p>
<p>This operator first calls <a class="el" href="group__ConvolutionFilters.html#ga1eedd3703e4ab90a2f8926a453fe6a8f">gaussianGradient()</a> to compute the gradient of the input image, ad then <a class="el" href="group__EdgeDetection.html#gad24417dac847a49d349da6092d86fa7f">cannyEdgeImageFromGradWithThinning()</a> to generate an edge image. See there for more detailed documentation.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>T1, <span class="keyword">class </span>S1,</div>
<div class="line">              <span class="keyword">class </span>T2, <span class="keyword">class </span>S2,</div>
<div class="line">              <span class="keyword">class </span>GradValue, <span class="keyword">class </span>DestValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga9aa609d12e327e0d633047b78d61c84e">cannyEdgeImageWithThinning</a>(MultiArrayView&lt;2, T1, S1&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                               MultiArrayView&lt;2, T2, S2&gt; dest,</div>
<div class="line">                               <span class="keywordtype">double</span> scale, </div>
<div class="line">                               GradValue gradient_threshold,</div>
<div class="line">                               DestValue edge_marker, </div>
<div class="line">                               <span class="keywordtype">bool</span> addBorder = <span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgeImageWithThinning_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgeImageWithThinning_OldAPI&apos;, &apos;cannyEdgeImageWithThinning_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="cannyEdgeImageWithThinning_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">              <span class="keyword">class </span>GradValue, <span class="keyword">class </span>DestValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga9aa609d12e327e0d633047b78d61c84e">cannyEdgeImageWithThinning</a>(</div>
<div class="line">               SrcIterator sul, SrcIterator slr, SrcAccessor sa,</div>
<div class="line">               DestIterator dul, DestAccessor da,</div>
<div class="line">               <span class="keywordtype">double</span> scale, GradValue gradient_threshold,</div>
<div class="line">               DestValue edge_marker, <span class="keywordtype">bool</span> addBorder = <span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">              <span class="keyword">class </span>GradValue, <span class="keyword">class </span>DestValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga9aa609d12e327e0d633047b78d61c84e">cannyEdgeImageWithThinning</a>(</div>
<div class="line">               triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">               pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">               <span class="keywordtype">double</span> scale, GradValue gradient_threshold,</div>
<div class="line">               DestValue edge_marker, <span class="keywordtype">bool</span> addBorder = <span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(w,h);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1, and add border</span></div>
<div class="line">cannyEdgeImageWithThinning(src, <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>, 0.8, 4.0, 1, <span class="keyword">true</span>);</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgeImageWithThinning_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgeImageWithThinning_OldUsage&apos;, &apos;cannyEdgeImageWithThinning_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="cannyEdgeImageWithThinning_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), <a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edge image</span></div>
<div class="line"><a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a> = 0;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edges at scale 0.8 with gradient larger than 4.0, mark with 1, annd add border</span></div>
<div class="line">vigra::cannyEdgeImageWithThinning(srcImageRange(src), destImage(<a class="code" href="group__BoostGraphExtensions.html#gaa5bc25fe304ed21e6f916dc2f145c95e">edges</a>),</div>
<div class="line">                                 0.8, 4.0, 1, <span class="keyword">true</span>);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> see also: <a class="el" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5">cannyEdgelList()</a>. </p>
<div class="fragment"><div class="line">DestImageIterator dest_upperleft;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line">DestValue edge_marker;</div>
<div class="line"></div>
<div class="line">dest_accessor.set(edge_marker, dest_upperleft, <a class="code" href="classvigra_1_1Diff2D.html">vigra::Diff2D</a>(1,1));</div>
</div><!-- fragment --> </div><p><b> Preconditions:</b></p>
<div class="fragment"><div class="line">scale &gt; 0</div>
<div class="line">gradient_threshold &gt; 0</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga04e860482291f33d59c0992b479041e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::cannyEdgelList3x3 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Improved implementation of Canny's edge detector. </p>
<p>This operator first computes pixels which are crossed by the edge using <a class="el" href="group__EdgeDetection.html#ga9aa609d12e327e0d633047b78d61c84e" title="Detect and mark edges in an edge image using Canny&#39;s algorithm. ">cannyEdgeImageWithThinning()</a>. The gradient magnitudes in the 3x3 neighborhood of these pixels are then projected onto the normal of the edge (as determined by the gradient direction). The edgel's subpixel location is found by fitting a parabola through the 9 gradient values and determining the parabola's tip. A new <a class="el" href="classvigra_1_1Edgel.html">Edgel</a> is appended to the given vector of <code>edgels</code>. Since the parabola is fitted to 9 points rather than 3 points as in <a class="el" href="group__EdgeDetection.html#gaf2233c5ec0e42a15134feda453f6fca5" title="Simple implementation of Canny&#39;s edge detector. ">cannyEdgelList()</a>, the accuracy is higher.</p>
<p>The function can be called in two modes: If you pass a 'scale', it is assumed that the original image is scalar, and the <a class="el" href="classvigra_1_1Gaussian.html">Gaussian</a> gradient is internally computed at the given 'scale'. If the function is called without scale parameter, it is assumed that the given image already contains the gradient (i.e. its value_type must be a vector of length 2).</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga04e860482291f33d59c0992b479041e6">cannyEdgelList3x3</a>(MultiArrayView&lt;2, T, S&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                      BackInsertable &amp; edgels, </div>
<div class="line">                      <span class="keywordtype">double</span> scale);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a pre-computed gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga04e860482291f33d59c0992b479041e6">cannyEdgelList3x3</a>(MultiArrayView&lt;2, TinyVector&lt;T, 2&gt;, S&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                      BackInsertable &amp; edgels);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgelList3x3_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgelList3x3_OldAPI&apos;, &apos;cannyEdgelList3x3_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="cannyEdgelList3x3_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga04e860482291f33d59c0992b479041e6">cannyEdgelList3x3</a>(SrcIterator ul, SrcIterator lr, SrcAccessor src,</div>
<div class="line">                           BackInsertable &amp; edgels);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__EdgeDetection.html#ga04e860482291f33d59c0992b479041e6">cannyEdgelList3x3</a>(SrcIterator ul, SrcIterator lr, SrcAccessor src,</div>
<div class="line">                           BackInsertable &amp; edgels, <span class="keywordtype">double</span> scale);</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga04e860482291f33d59c0992b479041e6">cannyEdgelList3x3</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                      BackInsertable &amp; edgels);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class</span> SrcIterator, <span class="keyword">class</span> SrcAccessor, <span class="keyword">class</span> BackInsertable&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga04e860482291f33d59c0992b479041e6">cannyEdgelList3x3</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                      BackInsertable &amp; edgels, <span class="keywordtype">double</span> scale);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// create empty edgel list</span></div>
<div class="line">std::vector&lt;vigra::Edgel&gt; edgels;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edgels at scale 0.8</span></div>
<div class="line">cannyEdgelList3x3(src, edgels, 0.8);</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgelList3x3_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgelList3x3_OldUsage&apos;, &apos;cannyEdgelList3x3_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="cannyEdgelList3x3_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edgel list</span></div>
<div class="line">std::vector&lt;vigra::Edgel&gt; edgels;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edgels at scale 0.8</span></div>
<div class="line">vigra::cannyEdgelList3x3(srcImageRange(src), edgels, 0.8);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft;</div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line"></div>
<div class="line">src_accessor(src_upperleft);</div>
<div class="line"></div>
<div class="line">BackInsertable edgels;</div>
<div class="line">edgels.push_back(Edgel());</div>
</div><!-- fragment --><p> SrcAccessor::value_type must be a type convertible to float </div><p><b> Preconditions:</b></p>
<div class="fragment"><div class="line">scale &gt; 0</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga23436177c86663716d99e7dd43b6620f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::cannyEdgelList3x3Threshold </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Improved implementation of Canny's edge detector with thresholding. </p>
<p>This function works exactly like <a class="el" href="group__EdgeDetection.html#ga04e860482291f33d59c0992b479041e6">cannyEdgelList3x3()</a>, but you also pass a threshold for the minimal gradient magnitude, so that edgels whose strength is below the threshold are not inserted into the edgel list.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga23436177c86663716d99e7dd43b6620f">cannyEdgelList3x3Threshold</a>(SrcIterator ul, SrcIterator lr, SrcAccessor src,</div>
<div class="line">                               BackInsertable &amp; edgels, GradValue grad_thresh);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga23436177c86663716d99e7dd43b6620f">cannyEdgelList3x3Threshold</a>(SrcIterator ul, SrcIterator lr, SrcAccessor src,</div>
<div class="line">                               BackInsertable &amp; edgels, <span class="keywordtype">double</span> scale, GradValue grad_thresh);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgelList3x3Threshold_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgelList3x3Threshold_OldAPI&apos;, &apos;cannyEdgelList3x3Threshold_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="cannyEdgelList3x3Threshold_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga23436177c86663716d99e7dd43b6620f">cannyEdgelList3x3Threshold</a>(SrcIterator ul, SrcIterator lr, SrcAccessor src,</div>
<div class="line">                               BackInsertable &amp; edgels, GradValue grad_thresh);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga23436177c86663716d99e7dd43b6620f">cannyEdgelList3x3Threshold</a>(SrcIterator ul, SrcIterator lr, SrcAccessor src,</div>
<div class="line">                               BackInsertable &amp; edgels, <span class="keywordtype">double</span> scale, GradValue grad_thresh);</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="comment">// compute edgels from a gradient image</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga23436177c86663716d99e7dd43b6620f">cannyEdgelList3x3Threshold</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                               BackInsertable &amp; edgels, GradValue grad_thresh);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute edgels from a scalar image (determine gradient internally at &#39;scale&#39;)</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor, </div>
<div class="line">              <span class="keyword">class </span>BackInsertable, <span class="keyword">class </span>GradValue&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__EdgeDetection.html#ga23436177c86663716d99e7dd43b6620f">cannyEdgelList3x3Threshold</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                               BackInsertable &amp; edgels, <span class="keywordtype">double</span> scale, GradValue grad_thresh);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="edgedetection_8hxx_source.html">vigra/edgedetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// create empty edgel list</span></div>
<div class="line">std::vector&lt;vigra::Edgel&gt; edgels;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edgels at scale 0.8 whose gradient is at least 4.0</span></div>
<div class="line">cannyEdgelList3x3Threshold(src, edgels, 0.8, 4.0);</div>
</div><!-- fragment --><p><a href="#" id="cannyEdgelList3x3Threshold_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;cannyEdgelList3x3Threshold_OldUsage&apos;, &apos;cannyEdgelList3x3Threshold_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="cannyEdgelList3x3Threshold_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty edgel list</span></div>
<div class="line">std::vector&lt;vigra::Edgel&gt; edgels;</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find edgels at scale 0.8 whose gradient is at least 4.0</span></div>
<div class="line">vigra::cannyEdgelList3x3Threshold(srcImageRange(src), edgels, 0.8, 4.0);</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft;</div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line"></div>
<div class="line">src_accessor(src_upperleft);</div>
<div class="line"></div>
<div class="line">BackInsertable edgels;</div>
<div class="line">edgels.push_back(Edgel());</div>
</div><!-- fragment --><p> SrcAccessor::value_type must be a type convertible to float </div><p><b> Preconditions:</b></p>
<div class="fragment"><div class="line">scale &gt; 0</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
vigra 1.11.1 (Fri May 19 2017)
</i>
</tr>
</table>
</BODY>
</HTML>
