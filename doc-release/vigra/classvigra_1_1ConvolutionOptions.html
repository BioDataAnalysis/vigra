<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>vigra - ConvolutionOptions&lt; dim &gt; Class Template Reference</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
<link rel=stylesheet type="text/css" href="vigra_1_8_2.css">
<link rel="shortcut icon" href="vigra-icon.ico" />
<script type="text/javascript">
function toggleHiddenDocumentation( textID, toggleID, toggleMessage )
{
	if( document.getElementById(textID).style.display == 'none' )
    {
		document.getElementById(textID).style.display = 'block';
        document.getElementById(toggleID).innerHTML = "hide " + toggleMessage;
    }
    else
    {
		document.getElementById(textID).style.display = 'none';
        document.getElementById(toggleID).innerHTML = "show " + toggleMessage;
	}
    return false;
}
</script>
<script>
var runOnLoad=function(c,o,d,e){function x(){for(e=1;c.length;)c.shift()()}o[d]?(document[d]('DOMContentLoaded',x,0),o[d]('load',x,0)):o.attachEvent('onload',x);return function(t){e?o.setTimeout(t,0):c.push(t)}}([],window,'addEventListener');
</script>
<script type="text/javascript" src="documents/CollapsibleLists.js"></script>
<script type="text/javascript">
    runOnLoad(function(){ CollapsibleLists.apply(); });
</script>
<style type="text/css">
.collapsibleList li.collapsibleListOpen{
  list-style-image:url('documents/pfeil.gif');
  cursor:pointer;
}
.collapsibleList li.collapsibleListClosed{
  list-style-image:url('documents/bullet.gif');
  cursor:pointer;
}
.collapsibleList li.lastItem{
  list-style-image:url('documents/diamond.gif');
}
</style>
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://ukoethe.github.io/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" title="Detailed Description" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">ConvolutionOptions&lt; dim &gt; Class Template Reference
</td>
<td align=right><a href="http://hci.iwr.uni-heidelberg.de/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif" title="VIGRA Homepage"></a></td></tr>
</table><p>


<p>Options class template for convolutions.  
 <a href="classvigra_1_1ConvolutionOptions.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="multi__convolution_8hxx_source.html">vigra/multi_convolution.hxx</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeef9e5ce743f44c1fe80980ee3e09a43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt; dim &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1ConvolutionOptions.html#aeef9e5ce743f44c1fe80980ee3e09a43">filterWindowSize</a> (double ratio)</td></tr>
<tr class="separator:aeef9e5ce743f44c1fe80980ee3e09a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8e16b4d2701b528f97365621b05c665"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt; dim &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1ConvolutionOptions.html#af8e16b4d2701b528f97365621b05c665">innerScale</a> (...)</td></tr>
<tr class="separator:af8e16b4d2701b528f97365621b05c665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84853f37f5a2556c8cd62dbf4d1b91e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt; dim &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1ConvolutionOptions.html#ac84853f37f5a2556c8cd62dbf4d1b91e">outerScale</a> (...)</td></tr>
<tr class="separator:ac84853f37f5a2556c8cd62dbf4d1b91e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b14f01ee6ff3b970159b550f8ce6a78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt; dim &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1ConvolutionOptions.html#a5b14f01ee6ff3b970159b550f8ce6a78">resolutionStdDev</a> (...)</td></tr>
<tr class="separator:a5b14f01ee6ff3b970159b550f8ce6a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c8001cd83bd36760f0f3b7ea27c7db6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt; dim &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1ConvolutionOptions.html#a4c8001cd83bd36760f0f3b7ea27c7db6">stdDev</a> (...)</td></tr>
<tr class="separator:a4c8001cd83bd36760f0f3b7ea27c7db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2107ed4012bc5ef75f69c0d95d051eb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt; dim &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1ConvolutionOptions.html#a2107ed4012bc5ef75f69c0d95d051eb5">stepSize</a> (...)</td></tr>
<tr class="separator:a2107ed4012bc5ef75f69c0d95d051eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1bf075cb838ca557d8c7f7e700c972"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt; dim &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1ConvolutionOptions.html#a8e1bf075cb838ca557d8c7f7e700c972">subarray</a> (Shape const &amp;from, Shape const &amp;to)</td></tr>
<tr class="separator:a8e1bf075cb838ca557d8c7f7e700c972"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="_details" id="details"></a><h2 class="details_section">Detailed Description</h2>
<div class="textblock"><h3>template&lt;unsigned dim&gt;<br/>
class vigra::ConvolutionOptions&lt; dim &gt;</h3>

<p>Options class template for convolutions. </p>
<p><b>#include</b> &lt;<a class="el" href="multi__convolution_8hxx_source.html">vigra/multi_convolution.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<p>This class enables the calculation of scale space convolutions such as <a class="el" href="group__ConvolutionFilters.html#ga4d5e9021732f13248ca3a0fe1b7c0552">gaussianGradientMultiArray()</a> on data with anisotropic discretization. For these, the result of the ordinary calculation has to be multiplied by factors of <img class="formulaInl" alt="$1/w^{n}$" src="form_61.png"/> for each dimension, where <img class="formulaInl" alt="$w$" src="form_62.png"/> is the step size of the grid in said dimension and <img class="formulaInl" alt="$n$" src="form_63.png"/> is the differential order of the convolution, e.g., 1 for <a class="el" href="group__ConvolutionFilters.html#ga4d5e9021732f13248ca3a0fe1b7c0552" title="Calculate Gaussian gradient of a multi-dimensional arrays. ">gaussianGradientMultiArray()</a>, and 0 for <a class="el" href="group__ConvolutionFilters.html#ga11d81ef630205d44b8517c464217207d" title="Isotropic Gaussian smoothing of a multi-dimensional arrays. ">gaussianSmoothMultiArray()</a>, respectively. Also for each dimension in turn, the convolution's scale parameter <img class="formulaInl" alt="$\sigma$" src="form_64.png"/> has to be replaced by <img class="formulaInl" alt="$\sqrt{\sigma_\mathrm{eff}^2 - \sigma_\mathrm{D}^2}\Big/w$" src="form_65.png"/>, where <img class="formulaInl" alt="$\sigma_\mathrm{eff}$" src="form_66.png"/> is the resulting effective filtering scale. The data is assumed to be already filtered by a gaussian smoothing with the scale parameter <img class="formulaInl" alt="$\sigma_\mathrm{D}$" src="form_67.png"/> (such as by measuring equipment). All of the above changes are automatically employed by the convolution functions for <code><a class="el" href="classvigra_1_1MultiArray.html" title="Main MultiArray class containing the memory management. ">MultiArray</a></code>s if a corresponding options object is provided.</p>
<p>The <code><a class="el" href="classvigra_1_1ConvolutionOptions.html" title="Options class template for convolutions. ">ConvolutionOptions</a></code> class must be parameterized by the dimension <code>dim</code> of the <code><a class="el" href="classvigra_1_1MultiArray.html" title="Main MultiArray class containing the memory management. ">MultiArray</a></code>s on which it is used. The actual per-axis options are set by (overloaded) member functions explained below, or else default to neutral values corresponding to the absence of the particular option.</p>
<p>All member functions set <code>dim</code> values of the respective convolution option, one for each dimension. They may be set explicitly by multiple arguments for up to five dimensions, or by a single argument to the same value for all dimensions. For the general case, a single argument that is either a C-syle array, an iterator, or a C++ standard library style sequence (such as <code>std::vector</code>, with member functions <code>begin()</code> and <code>size()</code>) supplies the option values for any number of dimensions.</p>
<p>Note that the return value of all member functions is <code>*this</code>, which provides the mechanism for concatenating member function calls as shown below.</p>
<p><b>usage with explicit parameters:</b></p>
<div class="fragment"><div class="line">ConvolutionOptions&lt;2&gt; opt = ConvolutionOptions&lt;2&gt;().<a class="code" href="classvigra_1_1ConvolutionOptions.html#a2107ed4012bc5ef75f69c0d95d051eb5">stepSize</a>(1, 2.3);</div>
</div><!-- fragment --><p><b>usage with arrays:</b></p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> step_size[3] = { x_scale, y_scale, z_scale };</div>
<div class="line">ConvolutionOptions&lt;3&gt; opt = ConvolutionOptions&lt;3&gt;().<a class="code" href="classvigra_1_1ConvolutionOptions.html#a2107ed4012bc5ef75f69c0d95d051eb5">stepSize</a>(step_size);</div>
</div><!-- fragment --><p><b>usage with C++ standard library style sequences:</b></p>
<div class="fragment"><div class="line">TinyVector&lt;double, 4&gt; step_size(1, 1, 2.0, 1.5);</div>
<div class="line">TinyVector&lt;double, 4&gt;  r_sigmas(1, 1, 2.3, 3.2);</div>
<div class="line">ConvolutionOptions&lt;4&gt; opt = ConvolutionOptions&lt;4&gt;().<a class="code" href="classvigra_1_1ConvolutionOptions.html#a2107ed4012bc5ef75f69c0d95d051eb5">stepSize</a>(step_size).resolutionStdDev(r_sigmas);</div>
</div><!-- fragment --><p><b>usage with iterators:</b></p>
<div class="fragment"><div class="line">ArrayVector&lt;double&gt; step_size;</div>
<div class="line">step_size.push_back(0);</div>
<div class="line">step_size.push_back(3);</div>
<div class="line">step_size.push_back(4);</div>
<div class="line">ArrayVector&lt;double&gt;::iterator i = step_size.begin();</div>
<div class="line">++i;</div>
<div class="line">ConvolutionOptions&lt;2&gt; opt = ConvolutionOptions&lt;2&gt;().<a class="code" href="classvigra_1_1ConvolutionOptions.html#a2107ed4012bc5ef75f69c0d95d051eb5">stepSize</a>(i);</div>
</div><!-- fragment --><p><b>general usage in a convolution function call:</b></p>
<div class="fragment"><div class="line">MultiArray&lt;3, double&gt; test_image;</div>
<div class="line">MultiArray&lt;3, double&gt; out_image;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">double</span> scale = 5.0;</div>
<div class="line"><a class="code" href="group__ConvolutionFilters.html#ga11d81ef630205d44b8517c464217207d">gaussianSmoothMultiArray</a>(test_image, out_image, scale,</div>
<div class="line">                         ConvolutionOptions&lt;3&gt;()</div>
<div class="line">                            .<a class="code" href="classvigra_1_1ConvolutionOptions.html#a2107ed4012bc5ef75f69c0d95d051eb5">stepSize</a>        (1, 1, 3.2)</div>
<div class="line">                            .<a class="code" href="classvigra_1_1ConvolutionOptions.html#a5b14f01ee6ff3b970159b550f8ce6a78">resolutionStdDev</a>(1, 1, 4)</div>
<div class="line">                        );</div>
</div><!-- fragment --> </div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2107ed4012bc5ef75f69c0d95d051eb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt;dim&gt;&amp; stepSize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Step size(s) per axis, i.e., the distance between two adjacent pixels. Required for <code><a class="el" href="classvigra_1_1MultiArray.html" title="Main MultiArray class containing the memory management. ">MultiArray</a></code> containing anisotropic data.</p>
<p>Note that a convolution containing a derivative operator of order <code>n</code> results in a multiplication by <img class="formulaInl" alt="${\rm stepSize}^{-n}$" src="form_68.png"/> for each axis. Also, the above standard deviations are scaled according to the step size of each axis. Default value for the options object if this member function is not used: A value of 1.0 for each dimension. </p>

</div>
</div>
<a class="anchor" id="a5b14f01ee6ff3b970159b550f8ce6a78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt;dim&gt;&amp; resolutionStdDev </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resolution standard deviation(s) per axis, i.e., a supposed pre-existing gaussian filtering by this value.</p>
<p>The standard deviation actually used by the convolution operators is <img class="formulaInl" alt="$\sqrt{{\rm sigma}^{2} - {\rm resolutionStdDev}^{2}}$" src="form_69.png"/> for each axis. Default value for the options object if this member function is not used: A value of 0.0 for each dimension. </p>

</div>
</div>
<a class="anchor" id="a4c8001cd83bd36760f0f3b7ea27c7db6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt;dim&gt;&amp; stdDev </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Standard deviation(s) of scale space operators, or inner scale(s) for <a class="el" href="group__ConvolutionFilters.html#ga6be0fb8e178b6b589e2441cc4ae0f54d">structureTensorMultiArray()</a>.</p>
<p>Usually not needed, since a single value for all axes may be specified as a parameter <code>sigma</code> to the call of an convolution operator such as <a class="el" href="group__ConvolutionFilters.html#ga4d5e9021732f13248ca3a0fe1b7c0552">gaussianGradientMultiArray()</a>, and anisotropic data requiring the use of the <a class="el" href="classvigra_1_1ConvolutionOptions.html#a2107ed4012bc5ef75f69c0d95d051eb5">stepSize()</a> member function. Default value for the options object if this member function is not used: A value of 0.0 for each dimension. </p>

</div>
</div>
<a class="anchor" id="af8e16b4d2701b528f97365621b05c665"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt;dim&gt;&amp; innerScale </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Standard deviation(s) of scale space operators, or inner scale(s) for <a class="el" href="group__ConvolutionFilters.html#ga6be0fb8e178b6b589e2441cc4ae0f54d">structureTensorMultiArray()</a>.</p>
<p>Usually not needed, since a single value for all axes may be specified as a parameter <code>sigma</code> to the call of an convolution operator such as <a class="el" href="group__ConvolutionFilters.html#ga4d5e9021732f13248ca3a0fe1b7c0552">gaussianGradientMultiArray()</a>, and anisotropic data requiring the use of the <a class="el" href="classvigra_1_1ConvolutionOptions.html#a2107ed4012bc5ef75f69c0d95d051eb5">stepSize()</a> member function. Default value for the options object if this member function is not used: A value of 0.0 for each dimension. </p>

</div>
</div>
<a class="anchor" id="ac84853f37f5a2556c8cd62dbf4d1b91e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt;dim&gt;&amp; outerScale </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Standard deviation(s) of the second convolution of the structure tensor.</p>
<p>Usually not needed, since a single value for all axes may be specified as a parameter <code>outerScale</code> to the call of <a class="el" href="group__ConvolutionFilters.html#ga6be0fb8e178b6b589e2441cc4ae0f54d">structureTensorMultiArray()</a>, and anisotropic data requiring the use of the <a class="el" href="classvigra_1_1ConvolutionOptions.html#a2107ed4012bc5ef75f69c0d95d051eb5">stepSize()</a> member function. Default value for the options object if this member function is not used: A value of 0.0 for each dimension. </p>

</div>
</div>
<a class="anchor" id="aeef9e5ce743f44c1fe80980ee3e09a43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt;dim&gt;&amp; filterWindowSize </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ratio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of the filter window as a multiple of the scale parameter.</p>
<p>This option is only used for <a class="el" href="classvigra_1_1Gaussian.html">Gaussian</a> filters and their derivatives. By default, the window size of a <a class="el" href="classvigra_1_1Gaussian.html">Gaussian</a> filter is automatically determined such that the error resulting from restricting the infinitely large <a class="el" href="classvigra_1_1Gaussian.html">Gaussian</a> function to a finite size is minimized. In particular, the window radius is determined as <code>radius = round(3.0 * sigma + 0.5 * order)</code>, where 'order' is the desired derivative order. In some cases, it is desirable to trade off accuracy for speed, and this function can be used to request a smaller window radius.</p>
<p>Default: <code>0.0</code> (i.e. determine the window size automatically) </p>

</div>
</div>
<a class="anchor" id="a8e1bf075cb838ca557d8c7f7e700c972"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1ConvolutionOptions.html">ConvolutionOptions</a>&lt;dim&gt;&amp; subarray </td>
          <td>(</td>
          <td class="paramtype">Shape const &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Shape const &amp;&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restrict the filter to a subregion of the input array.</p>
<p>This is useful for speeding up computations by ignoring irrelevant areas in the array. <b>Note:</b> It is assumed that the output array of the convolution has the size given in this function. Negative ROI boundaries are interpreted relative to the end of the respective dimension (i.e. <code>if(to[k] &lt; 0) to[k] += source.shape(k);</code>).</p>
<p>Default: <code>from = Shape(), to = Shape()</code> (i.e. use entire array) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>vigra/<a class="el" href="multi__convolution_8hxx_source.html">multi_convolution.hxx</a></li>
</ul>
</div><!-- contents -->
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
vigra 1.11.0 (Thu Mar 17 2016)
</i>
</tr>
</table>
</BODY>
</HTML>
