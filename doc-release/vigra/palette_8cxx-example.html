<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>vigra - palette.cxx</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
<link rel=stylesheet type="text/css" href="vigra_1_8_2.css">
<link rel="shortcut icon" href="vigra-icon.ico" />
<script type="text/javascript">
function toggleHiddenDocumentation( textID, toggleID, toggleMessage )
{
	if( document.getElementById(textID).style.display == 'none' )
    {
		document.getElementById(textID).style.display = 'block';
        document.getElementById(toggleID).innerHTML = "hide " + toggleMessage;
    }
    else
    {
		document.getElementById(textID).style.display = 'none';
        document.getElementById(toggleID).innerHTML = "show " + toggleMessage;
	}
    return false;
}
</script>
<script>
var runOnLoad=function(c,o,d,e){function x(){for(e=1;c.length;)c.shift()()}o[d]?(document[d]('DOMContentLoaded',x,0),o[d]('load',x,0)):o.attachEvent('onload',x);return function(t){e?o.setTimeout(t,0):c.push(t)}}([],window,'addEventListener');
</script>
<script type="text/javascript" src="documents/CollapsibleLists.js"></script>
<script type="text/javascript">
    runOnLoad(function(){ CollapsibleLists.apply(); });
</script>
<style type="text/css">
.collapsibleList li.collapsibleListOpen{
  list-style-image:url('documents/pfeil.gif');
  cursor:pointer;
}
.collapsibleList li.collapsibleListClosed{
  list-style-image:url('documents/bullet.gif');
  cursor:pointer;
}
.collapsibleList li.lastItem{
  list-style-image:url('documents/diamond.gif');
}
</style>
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://ukoethe.github.io/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div class="contents">
<table class="main_heading">
<tr>
<td width="100%">palette.cxx
</td>
<td align=right><a href="http://hci.iwr.uni-heidelberg.de/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif" title="VIGRA Homepage"></a></td></tr>
</table><p>

<p>Create series of slices through different color spaces. Usage: <code>example_palette luv</code>, generates <code>luv_*.gif</code> (44 images)</p>
<div class="fragment"><div class="line"><span class="comment">/************************************************************************/</span></div>
<div class="line"><span class="comment">/*                                                                      */</span></div>
<div class="line"><span class="comment">/*               Copyright 1998-2002 by Ullrich Koethe                  */</span></div>
<div class="line"><span class="comment">/*                                                                      */</span></div>
<div class="line"><span class="comment">/*    This file is part of the VIGRA computer vision library.           */</span></div>
<div class="line"><span class="comment">/*    The VIGRA Website is                                              */</span></div>
<div class="line"><span class="comment">/*        http://hci.iwr.uni-heidelberg.de/vigra/                       */</span></div>
<div class="line"><span class="comment">/*    Please direct questions, bug reports, and contributions to        */</span></div>
<div class="line"><span class="comment">/*        ullrich.koethe@iwr.uni-heidelberg.de    or                    */</span></div>
<div class="line"><span class="comment">/*        vigra@informatik.uni-hamburg.de                               */</span></div>
<div class="line"><span class="comment">/*                                                                      */</span></div>
<div class="line"><span class="comment">/*    Permission is hereby granted, free of charge, to any person       */</span></div>
<div class="line"><span class="comment">/*    obtaining a copy of this software and associated documentation    */</span></div>
<div class="line"><span class="comment">/*    files (the &quot;Software&quot;), to deal in the Software without           */</span></div>
<div class="line"><span class="comment">/*    restriction, including without limitation the rights to use,      */</span></div>
<div class="line"><span class="comment">/*    copy, modify, merge, publish, distribute, sublicense, and/or      */</span></div>
<div class="line"><span class="comment">/*    sell copies of the Software, and to permit persons to whom the    */</span></div>
<div class="line"><span class="comment">/*    Software is furnished to do so, subject to the following          */</span></div>
<div class="line"><span class="comment">/*    conditions:                                                       */</span></div>
<div class="line"><span class="comment">/*                                                                      */</span></div>
<div class="line"><span class="comment">/*    The above copyright notice and this permission notice shall be    */</span></div>
<div class="line"><span class="comment">/*    included in all copies or substantial portions of the             */</span></div>
<div class="line"><span class="comment">/*    Software.                                                         */</span></div>
<div class="line"><span class="comment">/*                                                                      */</span></div>
<div class="line"><span class="comment">/*    THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND    */</span></div>
<div class="line"><span class="comment">/*    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES   */</span></div>
<div class="line"><span class="comment">/*    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND          */</span></div>
<div class="line"><span class="comment">/*    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT       */</span></div>
<div class="line"><span class="comment">/*    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,      */</span></div>
<div class="line"><span class="comment">/*    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING      */</span></div>
<div class="line"><span class="comment">/*    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR     */</span></div>
<div class="line"><span class="comment">/*    OTHER DEALINGS IN THE SOFTWARE.                                   */</span>                </div>
<div class="line"><span class="comment">/*                                                                      */</span></div>
<div class="line"><span class="comment">/************************************************************************/</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vigra/multi_array.hxx&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vigra/stdimagefunctions.hxx&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="impex_8hxx.html">vigra/impex.hxx</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vigra/colorconversions.hxx&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span>vigra;</div>
<div class="line"></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> Polar2Cartesian, <span class="keyword">class</span> Cartesian2RGB, <span class="keyword">class</span> RGB2RGBPrime&gt;</div>
<div class="line"><span class="keywordtype">void</span> createColorVsSaturation(<a name="_a0"></a><a class="code" href="classvigra_1_1MultiArray.html">MultiArray</a>&lt;2, <a name="_a1"></a><a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;UInt8&gt;</a> &gt; &amp; result, <span class="keywordtype">double</span> brightness, </div>
<div class="line">                 Polar2Cartesian polar2Cartesian, Cartesian2RGB cartesian2RGB, RGB2RGBPrime rgb2RGBPrime)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> w = result.width(); </div>
<div class="line">    <span class="keywordtype">int</span> h = result.height();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> y=0; y&lt;h; ++y)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0; x&lt;w; ++x)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">double</span> saturation = (float)x / (w-1);</div>
<div class="line">            <span class="keywordtype">double</span> color = (float)y / (h-1) * 360.0;</div>
<div class="line">            </div>
<div class="line">            <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;float&gt;</a> rgb = cartesian2RGB(</div>
<div class="line">               polar2Cartesian(color, brightness, saturation));</div>
<div class="line">                        </div>
<div class="line">            <span class="keywordflow">if</span>(saturation &gt; 1.0 ||</div>
<div class="line">               rgb.<a name="a2"></a><a class="code" href="classvigra_1_1RGBValue.html#a1c1a385819753739d316121d3dd93790">red</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a1c1a385819753739d316121d3dd93790">red</a>() &gt; 255.0 ||</div>
<div class="line">               rgb.<a name="a3"></a><a class="code" href="classvigra_1_1RGBValue.html#a621468b43b29f760d455e413ec494a8e">green</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a621468b43b29f760d455e413ec494a8e">green</a>() &gt; 255.0 ||</div>
<div class="line">               rgb.<a name="a4"></a><a class="code" href="classvigra_1_1RGBValue.html#a7894aacc3b4ea7a1e8a3b1f84f6bdea9">blue</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a7894aacc3b4ea7a1e8a3b1f84f6bdea9">blue</a>() &gt; 255.0)</div>
<div class="line">            {</div>
<div class="line">                result(x,y) = <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;unsigned char&gt;</a>(170.0);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                result(x,y) = rgb2RGBPrime(rgb);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> Polar2Cartesian, <span class="keyword">class</span> Cartesian2RGB, <span class="keyword">class</span> RGB2RGBPrime&gt;</div>
<div class="line"><span class="keywordtype">void</span> createColorVsBrightness(<a class="code" href="classvigra_1_1MultiArray.html">MultiArray</a>&lt;2, <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;UInt8&gt;</a> &gt; &amp; result, <span class="keywordtype">double</span> saturation, </div>
<div class="line">                 Polar2Cartesian polar2Cartesian, Cartesian2RGB cartesian2RGB, RGB2RGBPrime rgb2RGBPrime)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> w = result.width(); </div>
<div class="line">    <span class="keywordtype">int</span> h = result.height();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> y=0; y&lt;h; ++y)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0; x&lt;w; ++x)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">double</span> brightness = (float)x / (w-1);</div>
<div class="line">            <span class="keywordtype">double</span> color = (float)y / (h-1) * 360.0;</div>
<div class="line">            </div>
<div class="line">            <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;float&gt;</a> rgb = cartesian2RGB(</div>
<div class="line">               polar2Cartesian(color, brightness, saturation));</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">if</span>(saturation &gt; 1.0 ||</div>
<div class="line">               rgb.<a class="code" href="classvigra_1_1RGBValue.html#a1c1a385819753739d316121d3dd93790">red</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a1c1a385819753739d316121d3dd93790">red</a>() &gt; 255.0 ||</div>
<div class="line">               rgb.<a class="code" href="classvigra_1_1RGBValue.html#a621468b43b29f760d455e413ec494a8e">green</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a621468b43b29f760d455e413ec494a8e">green</a>() &gt; 255.0 ||</div>
<div class="line">               rgb.<a class="code" href="classvigra_1_1RGBValue.html#a7894aacc3b4ea7a1e8a3b1f84f6bdea9">blue</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a7894aacc3b4ea7a1e8a3b1f84f6bdea9">blue</a>() &gt; 255.0)</div>
<div class="line">            {</div>
<div class="line">                result(x,y) = <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;unsigned char&gt;</a>(170.0);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                result(x,y) = rgb2RGBPrime(rgb);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> Polar2Cartesian, <span class="keyword">class</span> Cartesian2RGB, <span class="keyword">class</span> RGB2RGBPrime&gt;</div>
<div class="line"><span class="keywordtype">void</span> createSaturationVsBrightness(<a class="code" href="classvigra_1_1MultiArray.html">MultiArray</a>&lt;2, <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;UInt8&gt;</a> &gt; &amp; result, <span class="keywordtype">double</span> color, </div>
<div class="line">                 Polar2Cartesian polar2Cartesian, Cartesian2RGB cartesian2RGB, RGB2RGBPrime rgb2RGBPrime)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> w = result.width(); </div>
<div class="line">    <span class="keywordtype">int</span> h = result.height();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> y=0; y&lt;h; ++y)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0; x&lt;w; ++x)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">double</span> brightness = (float)x / (w-1);</div>
<div class="line">            <span class="keywordtype">double</span> saturation = (float)y / (h-1);</div>
<div class="line">            </div>
<div class="line">            <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;float&gt;</a> rgb = cartesian2RGB(</div>
<div class="line">               polar2Cartesian(color, brightness, saturation));</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">if</span>(saturation &gt; 1.0 ||</div>
<div class="line">               rgb.<a class="code" href="classvigra_1_1RGBValue.html#a1c1a385819753739d316121d3dd93790">red</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a1c1a385819753739d316121d3dd93790">red</a>() &gt; 255.0 ||</div>
<div class="line">               rgb.<a class="code" href="classvigra_1_1RGBValue.html#a621468b43b29f760d455e413ec494a8e">green</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a621468b43b29f760d455e413ec494a8e">green</a>() &gt; 255.0 ||</div>
<div class="line">               rgb.<a class="code" href="classvigra_1_1RGBValue.html#a7894aacc3b4ea7a1e8a3b1f84f6bdea9">blue</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a7894aacc3b4ea7a1e8a3b1f84f6bdea9">blue</a>() &gt; 255.0)</div>
<div class="line">            {</div>
<div class="line">                result(x,y) = <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;unsigned char&gt;</a>(170.0);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                result(x,y) = rgb2RGBPrime(rgb);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> Polar2Cartesian, <span class="keyword">class</span> Cartesian2RGB, <span class="keyword">class</span> RGB2RGBPrime&gt;</div>
<div class="line"><span class="keywordtype">void</span> createColorCircle(<a class="code" href="classvigra_1_1MultiArray.html">MultiArray</a>&lt;2, <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;UInt8&gt;</a> &gt; &amp; result, <span class="keywordtype">double</span> brightness, </div>
<div class="line">                 Polar2Cartesian polar2Cartesian, Cartesian2RGB cartesian2RGB, RGB2RGBPrime rgb2RGBPrime)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> w = result.width(); </div>
<div class="line">    <span class="keywordtype">int</span> h = result.height();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> y=0; y&lt;h; ++y)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0; x&lt;w; ++x)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">double</span> dx = x/128.0 - 1.0;</div>
<div class="line">            <span class="keywordtype">double</span> dy = -y/128.0 + 1.0;</div>
<div class="line">            <span class="keywordtype">double</span> color = 180.0/M_PI*<a name="a5"></a><a class="code" href="group__FixedPoint16Operations.html#gae83e1ae2e3dae6dc462c69a7c8175fc5">std::atan2</a>(dy,dx);</div>
<div class="line">            <span class="keywordtype">double</span> saturation = <a name="a6"></a><a class="code" href="group__FixedPointOperations.html#ga22d75753836176f3d172f58be11ecc4c">std::sqrt</a>(dx*dx+dy*dy);</div>
<div class="line">            </div>
<div class="line">            <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;float&gt;</a> rgb = cartesian2RGB(</div>
<div class="line">               polar2Cartesian(color, brightness, saturation));</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">if</span>(saturation &gt; 1.0 ||</div>
<div class="line">               rgb.<a class="code" href="classvigra_1_1RGBValue.html#a1c1a385819753739d316121d3dd93790">red</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a1c1a385819753739d316121d3dd93790">red</a>() &gt; 255.0 ||</div>
<div class="line">               rgb.<a class="code" href="classvigra_1_1RGBValue.html#a621468b43b29f760d455e413ec494a8e">green</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a621468b43b29f760d455e413ec494a8e">green</a>() &gt; 255.0 ||</div>
<div class="line">               rgb.<a class="code" href="classvigra_1_1RGBValue.html#a7894aacc3b4ea7a1e8a3b1f84f6bdea9">blue</a>() &lt; 0.0 || rgb.<a class="code" href="classvigra_1_1RGBValue.html#a7894aacc3b4ea7a1e8a3b1f84f6bdea9">blue</a>() &gt; 255.0)</div>
<div class="line">            {</div>
<div class="line">                result(x,y) = <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;unsigned char&gt;</a>(170.0);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                result(x,y) = rgb2RGBPrime(rgb);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> write(<span class="keywordtype">char</span> <span class="keyword">const</span> * colorspace, <span class="keywordtype">char</span> <span class="keyword">const</span> * diagram, <span class="keywordtype">int</span> i, <a class="code" href="classvigra_1_1MultiArray.html">MultiArray</a>&lt;2, <a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;UInt8&gt;</a> &gt; <span class="keyword">const</span> &amp; img)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> buf[1000];</div>
<div class="line">    <span class="keywordflow">if</span>(i &lt; 10)</div>
<div class="line">        sprintf(buf, <span class="stringliteral">&quot;%s_%s_0%d.gif&quot;</span>, colorspace, diagram, i);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        sprintf(buf, <span class="stringliteral">&quot;%s_%s_%d.gif&quot;</span>, colorspace, diagram, i);</div>
<div class="line">    <a name="a7"></a><a class="code" href="group__VigraImpex.html#gabd7976d498abce467cd17989176133e3">exportImage</a>(img, <a name="_a8"></a><a class="code" href="classvigra_1_1ImageExportInfo.html">ImageExportInfo</a>(buf));</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Wrote &quot;</span> &lt;&lt; buf &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> Polar2Cartesian, <span class="keyword">class</span> Cartesian2RGB, <span class="keyword">class</span> RGB2RGBPrime&gt;</div>
<div class="line"><span class="keywordtype">void</span> createColorSpaceSlices(<span class="keywordtype">char</span> <span class="keyword">const</span> * colorspace,</div>
<div class="line">    Polar2Cartesian polar2Cartesian, Cartesian2RGB cartesian2RGB, RGB2RGBPrime rgb2RGBPrime)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> w = 257; </div>
<div class="line">    <span class="keywordtype">int</span> h = 257;</div>
<div class="line">    <span class="keywordtype">int</span> Ymax = 10;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;=Ymax; ++i)</div>
<div class="line">    {</div>
<div class="line"></div>
<div class="line">        <a class="code" href="classvigra_1_1MultiArray.html">MultiArray&lt;2, RGBValue&lt;UInt8&gt;</a> &gt; result(w, h);</div>
<div class="line"></div>
<div class="line">        createColorVsSaturation(result, (<span class="keywordtype">float</span>)i/Ymax, </div>
<div class="line">                        polar2Cartesian, cartesian2RGB, rgb2RGBPrime);</div>
<div class="line">        write(colorspace, <span class="stringliteral">&quot;ColorVsSaturation&quot;</span>, i, result);</div>
<div class="line"></div>
<div class="line">        createColorVsBrightness(result, (<span class="keywordtype">float</span>)i/Ymax, </div>
<div class="line">                        polar2Cartesian, cartesian2RGB, rgb2RGBPrime);</div>
<div class="line">        write(colorspace, <span class="stringliteral">&quot;ColorVsBrightness&quot;</span>, i, result);</div>
<div class="line"></div>
<div class="line">        createSaturationVsBrightness(result, (<span class="keywordtype">float</span>)i/Ymax*360.0, </div>
<div class="line">                        polar2Cartesian, cartesian2RGB, rgb2RGBPrime);</div>
<div class="line">        write(colorspace, <span class="stringliteral">&quot;SaturationVsBrightness&quot;</span>, i, result);</div>
<div class="line"></div>
<div class="line">        createColorCircle(result, (<span class="keywordtype">float</span>)i/Ymax, </div>
<div class="line">                        polar2Cartesian, cartesian2RGB, rgb2RGBPrime);</div>
<div class="line">        write(colorspace, <span class="stringliteral">&quot;ColorCircle&quot;</span>, i, result);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> usage(<span class="keywordtype">char</span> <span class="keyword">const</span> * prog)</div>
<div class="line">{</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Usage: &quot;</span> &lt;&lt; prog &lt;&lt; <span class="stringliteral">&quot; colorspace\n&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;with colorspace in [lab luv ypbpr ycbcr yiq yuv]\n\n&quot;</span>;</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;This programm calculates slices through the given color space\n&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;Images are named &#39;lab_SaturationVsBrightness_01.gif&#39; etc.\n&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;where the first part of the name designates the colorspace used,\n&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;the second part says what is varied on the image\n&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;and the number codes the value of the quantity that is kept\n&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;constant in the image - 01 in the example means that the color\n&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;angle is 36 degrees = 1 * 360 degrees / 10\n&quot;</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> ** argv)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(argc &lt;2)</div>
<div class="line">    {</div>
<div class="line">        usage(argv[0]);</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">typedef</span> <a name="_a9"></a><a class="code" href="classvigra_1_1TinyVector.html">TinyVector&lt;float, 3&gt;</a> (*PolarFct)(double, double, double);</div>
<div class="line">        std::string colorspace(argv[1]);</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span>(colorspace == <span class="stringliteral">&quot;lab&quot;</span>)</div>
<div class="line">        {</div>
<div class="line">            createColorSpaceSlices(<span class="stringliteral">&quot;lab&quot;</span>, </div>
<div class="line">                         (PolarFct)&amp;<a name="a10"></a><a class="code" href="group__PolarColors.html#gafdec7ac4d8ba3ec5a076372eea278c66">polar2Lab</a>, <a name="_a11"></a><a class="code" href="classvigra_1_1Lab2RGBFunctor.html">Lab2RGBFunctor&lt;float&gt;</a>(),</div>
<div class="line">                         <a name="_a12"></a><a class="code" href="classvigra_1_1RGB2RGBPrimeFunctor.html">RGB2RGBPrimeFunctor&lt;float, unsigned char&gt;</a>());</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(colorspace == <span class="stringliteral">&quot;luv&quot;</span>)</div>
<div class="line">        {</div>
<div class="line">            createColorSpaceSlices(<span class="stringliteral">&quot;luv&quot;</span>, </div>
<div class="line">                         (PolarFct)&amp;<a name="a13"></a><a class="code" href="group__PolarColors.html#gacda9420225ef2bb0075597549fc493e2">polar2Luv</a>, <a name="_a14"></a><a class="code" href="classvigra_1_1Luv2RGBFunctor.html">Luv2RGBFunctor&lt;float&gt;</a>(),</div>
<div class="line">                         <a class="code" href="classvigra_1_1RGB2RGBPrimeFunctor.html">RGB2RGBPrimeFunctor&lt;float, unsigned char&gt;</a>());</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(colorspace == <span class="stringliteral">&quot;ypbpr&quot;</span>)</div>
<div class="line">        {</div>
<div class="line">            createColorSpaceSlices(<span class="stringliteral">&quot;ypbpr&quot;</span>, </div>
<div class="line">                         (PolarFct)&amp;<a name="a15"></a><a class="code" href="group__PolarColors.html#gaaed05183ac67f4ce6a88bce59be43d47">polar2YPrimePbPr</a>, <a name="_a16"></a><a class="code" href="classvigra_1_1YPrimePbPr2RGBPrimeFunctor.html">YPrimePbPr2RGBPrimeFunctor&lt;float&gt;</a>(),</div>
<div class="line">                         &amp;NumericTraits&lt;<a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;unsigned char&gt;</a> &gt;::fromRealPromote);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(colorspace == <span class="stringliteral">&quot;ycbcr&quot;</span>)</div>
<div class="line">        {</div>
<div class="line">            createColorSpaceSlices(<span class="stringliteral">&quot;ycbcr&quot;</span>, </div>
<div class="line">                         (PolarFct)&amp;<a name="a17"></a><a class="code" href="group__PolarColors.html#gadb4ecbf1f3cd03559da19f5930bf308e">polar2YPrimeCbCr</a>, <a name="_a18"></a><a class="code" href="classvigra_1_1YPrimeCbCr2RGBPrimeFunctor.html">YPrimeCbCr2RGBPrimeFunctor&lt;float&gt;</a>(),</div>
<div class="line">                         &amp;NumericTraits&lt;<a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;unsigned char&gt;</a> &gt;::fromRealPromote);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(colorspace == <span class="stringliteral">&quot;yiq&quot;</span>)</div>
<div class="line">        {</div>
<div class="line">            createColorSpaceSlices(<span class="stringliteral">&quot;yiq&quot;</span>, </div>
<div class="line">                         (PolarFct)&amp;<a name="a19"></a><a class="code" href="group__PolarColors.html#gaeb7ea17d644d4bb1c9a11f5298e96c97">polar2YPrimeIQ</a>, <a name="_a20"></a><a class="code" href="classvigra_1_1YPrimeIQ2RGBPrimeFunctor.html">YPrimeIQ2RGBPrimeFunctor&lt;float&gt;</a>(),</div>
<div class="line">                         &amp;NumericTraits&lt;<a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;unsigned char&gt;</a> &gt;::fromRealPromote);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(colorspace == <span class="stringliteral">&quot;yuv&quot;</span>)</div>
<div class="line">        {</div>
<div class="line">            createColorSpaceSlices(<span class="stringliteral">&quot;yuv&quot;</span>, </div>
<div class="line">                         (PolarFct)&amp;<a name="a21"></a><a class="code" href="group__PolarColors.html#ga04dfa11029f88093e78cd5b8c620a928">polar2YPrimeUV</a>, <a name="_a22"></a><a class="code" href="classvigra_1_1YPrimeUV2RGBPrimeFunctor.html">YPrimeUV2RGBPrimeFunctor&lt;float&gt;</a>(),</div>
<div class="line">                         &amp;NumericTraits&lt;<a class="code" href="classvigra_1_1RGBValue.html">RGBValue&lt;unsigned char&gt;</a> &gt;::fromRealPromote);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Unknown colorspace: &quot;</span> &lt;&lt; colorspace &lt;&lt; std::endl;</div>
<div class="line">            usage(argv[0]);</div>
<div class="line">            <span class="keywordflow">return</span> 1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (std::exception &amp; e)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
vigra 1.11.1 (Fri May 19 2017)
</i>
</tr>
</table>
</BODY>
</HTML>
