<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>vigra - ThreadPool Class Reference</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
<link rel=stylesheet type="text/css" href="vigra_1_8_2.css">
<link rel="shortcut icon" href="vigra-icon.ico" />
<script type="text/javascript">
function toggleHiddenDocumentation( textID, toggleID, toggleMessage )
{
	if( document.getElementById(textID).style.display == 'none' )
    {
		document.getElementById(textID).style.display = 'block';
        document.getElementById(toggleID).innerHTML = "hide " + toggleMessage;
    }
    else
    {
		document.getElementById(textID).style.display = 'none';
        document.getElementById(toggleID).innerHTML = "show " + toggleMessage;
	}
    return false;
}
</script>
<script>
var runOnLoad=function(c,o,d,e){function x(){for(e=1;c.length;)c.shift()()}o[d]?(document[d]('DOMContentLoaded',x,0),o[d]('load',x,0)):o.attachEvent('onload',x);return function(t){e?o.setTimeout(t,0):c.push(t)}}([],window,'addEventListener');
</script>
<script type="text/javascript" src="documents/CollapsibleLists.js"></script>
<script type="text/javascript">
    runOnLoad(function(){ CollapsibleLists.apply(); });
</script>
<style type="text/css">
.collapsibleList li.collapsibleListOpen{
  list-style-image:url('documents/pfeil.gif');
  cursor:pointer;
}
.collapsibleList li.collapsibleListClosed{
  list-style-image:url('documents/bullet.gif');
  cursor:pointer;
}
.collapsibleList li.lastItem{
  list-style-image:url('documents/diamond.gif');
}
</style>
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://ukoethe.github.io/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" title="Detailed Description" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">ThreadPool Class Reference<div class="ingroups"><a class="el" href="group__ParallelProcessing.html">Parallel Processing</a></div>
</td>
<td align=right><a href="http://hci.iwr.uni-heidelberg.de/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif" title="VIGRA Homepage"></a></td></tr>
</table><p>


<p>Thread pool class to manage a set of parallel workers.  
 <a href="classvigra_1_1ThreadPool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="threadpool_8hxx_source.html">vigra/threadpool.hxx</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ga6321ed04dae9c5a2ab8bccf07dd52cb6"><td class="memTemplParams" colspan="2">template&lt;class F &gt; </td></tr>
<tr class="memitem:ga6321ed04dae9c5a2ab8bccf07dd52cb6"><td class="memTemplItemLeft" align="right" valign="top">threading::future&lt; void &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#ga6321ed04dae9c5a2ab8bccf07dd52cb6">enqueue</a> (F &amp;&amp;f)</td></tr>
<tr class="separator:ga6321ed04dae9c5a2ab8bccf07dd52cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga022c9a3cb8bdfb82fe60bdc78516871e"><td class="memTemplParams" colspan="2">template&lt;class F &gt; </td></tr>
<tr class="memitem:ga022c9a3cb8bdfb82fe60bdc78516871e"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#ga022c9a3cb8bdfb82fe60bdc78516871e">enqueueReturning</a> (F &amp;&amp;f) -&gt; threading::future&lt; decltype(f(0))&gt;</td></tr>
<tr class="separator:ga022c9a3cb8bdfb82fe60bdc78516871e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05ea0e90c15fd4b0cf1686d334aa056d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1ThreadPool.html#a05ea0e90c15fd4b0cf1686d334aa056d">nThreads</a> () const </td></tr>
<tr class="separator:a05ea0e90c15fd4b0cf1686d334aa056d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b27f9c8f3a8fdfc130c344dd65e0f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1ThreadPool.html#a59b27f9c8f3a8fdfc130c344dd65e0f1">ThreadPool</a> (const <a class="el" href="classvigra_1_1ParallelOptions.html">ParallelOptions</a> &amp;options)</td></tr>
<tr class="separator:a59b27f9c8f3a8fdfc130c344dd65e0f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73517f60ec27f8cb4cce9fd72d78b08f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1ThreadPool.html#a73517f60ec27f8cb4cce9fd72d78b08f">ThreadPool</a> (const int n)</td></tr>
<tr class="separator:a73517f60ec27f8cb4cce9fd72d78b08f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e6476bf5e4c9a3096e40db463450f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1ThreadPool.html#a75e6476bf5e4c9a3096e40db463450f3">waitFinished</a> ()</td></tr>
<tr class="separator:a75e6476bf5e4c9a3096e40db463450f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad41a30b11a0c9d8566ca1a53b4cf43f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#gad41a30b11a0c9d8566ca1a53b4cf43f6">~ThreadPool</a> ()</td></tr>
<tr class="separator:gad41a30b11a0c9d8566ca1a53b4cf43f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="_details" id="details"></a><h2 class="details_section">Detailed Description</h2>
<div class="textblock"><p>Thread pool class to manage a set of parallel workers. </p>
<p><b>#include</b> &lt;<a class="el" href="threadpool_8hxx_source.html">vigra/threadpool.hxx</a>&gt;<br/>
 Namespace: vigra </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a59b27f9c8f3a8fdfc130c344dd65e0f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1ThreadPool.html">ThreadPool</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvigra_1_1ParallelOptions.html">ParallelOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a thread pool from <a class="el" href="classvigra_1_1ParallelOptions.html" title="Option base class for parallel algorithms. ">ParallelOptions</a>. The constructor just launches the desired number of workers. If the number of threads is zero, no workers are started, and all tasks will be executed in synchronously in the present thread. </p>

</div>
</div>
<a class="anchor" id="a73517f60ec27f8cb4cce9fd72d78b08f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1ThreadPool.html">ThreadPool</a> </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a thread pool with n threads. The constructor just launches the desired number of workers. If </p>
<ul>
<li>n is <code><a class="el" href="classvigra_1_1ParallelOptions.html#a1fb9092bcdeada2d206bdc74afbbe122ab81b7469043e9c54603ca3aebbe38e90" title="Determine number of threads automatically (from threading::thread::hardware_concurrency()) ...">ParallelOptions::Auto</a></code>, the number of threads is determined by <code>threading::thread::hardware_concurrency()</code>. <code><a class="el" href="classvigra_1_1ParallelOptions.html#a1fb9092bcdeada2d206bdc74afbbe122a35a0133445c19ec7f60a0c43ab4a82c5" title="Use half as many threads as Auto would. ">ParallelOptions::Nice</a></code> will create half as many threads. If <code>n = 0</code>, no workers are started, and all tasks will be executed synchronously in the present thread. If the preprocessor flag <code>VIGRA_SINGLE_THREADED</code> is defined, the number of threads is always set to zero (i.e. synchronous execution), regardless of the value of </li>
<li>n. This is useful for debugging. </li>
</ul>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a75e6476bf5e4c9a3096e40db463450f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void waitFinished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Block until all tasks are finished. </p>

</div>
</div>
<a class="anchor" id="a05ea0e90c15fd4b0cf1686d334aa056d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t nThreads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of worker threads. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>vigra/<a class="el" href="threadpool_8hxx_source.html">threadpool.hxx</a></li>
</ul>
</div><!-- contents -->
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
vigra 1.11.1 (Fri May 19 2017)
</i>
</tr>
</table>
</BODY>
</HTML>
