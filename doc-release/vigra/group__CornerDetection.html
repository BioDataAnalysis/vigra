<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>vigra - Corner Detection</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
<link rel=stylesheet type="text/css" href="vigra_1_8_2.css">
<link rel="shortcut icon" href="vigra-icon.ico" />
<script type="text/javascript">
function toggleHiddenDocumentation( textID, toggleID, toggleMessage )
{
	if( document.getElementById(textID).style.display == 'none' )
    {
		document.getElementById(textID).style.display = 'block';
        document.getElementById(toggleID).innerHTML = "hide " + toggleMessage;
    }
    else
    {
		document.getElementById(textID).style.display = 'none';
        document.getElementById(toggleID).innerHTML = "show " + toggleMessage;
	}
    return false;
}
</script>
<script>
var runOnLoad=function(c,o,d,e){function x(){for(e=1;c.length;)c.shift()()}o[d]?(document[d]('DOMContentLoaded',x,0),o[d]('load',x,0)):o.attachEvent('onload',x);return function(t){e?o.setTimeout(t,0):c.push(t)}}([],window,'addEventListener');
</script>
<script type="text/javascript" src="documents/CollapsibleLists.js"></script>
<script type="text/javascript">
    runOnLoad(function(){ CollapsibleLists.apply(); });
</script>
<style type="text/css">
.collapsibleList li.collapsibleListOpen{
  list-style-image:url('documents/pfeil.gif');
  cursor:pointer;
}
.collapsibleList li.collapsibleListClosed{
  list-style-image:url('documents/bullet.gif');
  cursor:pointer;
}
.collapsibleList li.lastItem{
  list-style-image:url('documents/diamond.gif');
}
</style>
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://ukoethe.github.io/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" title="Detailed Description" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">Corner Detection
</td>
<td align=right><a href="http://hci.iwr.uni-heidelberg.de/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif" title="VIGRA Homepage"></a></td></tr>
</table><p>

<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0c750a26d679a2ea13fd697dac73a123"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga0c750a26d679a2ea13fd697dac73a123"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__CornerDetection.html#ga0c750a26d679a2ea13fd697dac73a123">beaudetCornerDetector</a> (...)</td></tr>
<tr class="memdesc:ga0c750a26d679a2ea13fd697dac73a123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find corners in an image (4).  <a href="#ga0c750a26d679a2ea13fd697dac73a123">More...</a><br/></td></tr>
<tr class="separator:ga0c750a26d679a2ea13fd697dac73a123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ac6885918f92043c688fca04401248f"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga8ac6885918f92043c688fca04401248f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__CornerDetection.html#ga8ac6885918f92043c688fca04401248f">cornerResponseFunction</a> (...)</td></tr>
<tr class="memdesc:ga8ac6885918f92043c688fca04401248f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find corners in an image (1).  <a href="#ga8ac6885918f92043c688fca04401248f">More...</a><br/></td></tr>
<tr class="separator:ga8ac6885918f92043c688fca04401248f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab70e0f0cec3312e4b0df415c6b2a733b"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:gab70e0f0cec3312e4b0df415c6b2a733b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__CornerDetection.html#gab70e0f0cec3312e4b0df415c6b2a733b">foerstnerCornerDetector</a> (...)</td></tr>
<tr class="memdesc:gab70e0f0cec3312e4b0df415c6b2a733b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find corners in an image (2).  <a href="#gab70e0f0cec3312e4b0df415c6b2a733b">More...</a><br/></td></tr>
<tr class="separator:gab70e0f0cec3312e4b0df415c6b2a733b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga425b0f1d2d17b7aa2518dff5cd1abd8e"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga425b0f1d2d17b7aa2518dff5cd1abd8e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__CornerDetection.html#ga425b0f1d2d17b7aa2518dff5cd1abd8e">rohrCornerDetector</a> (...)</td></tr>
<tr class="memdesc:ga425b0f1d2d17b7aa2518dff5cd1abd8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find corners in an image (3).  <a href="#ga425b0f1d2d17b7aa2518dff5cd1abd8e">More...</a><br/></td></tr>
<tr class="separator:ga425b0f1d2d17b7aa2518dff5cd1abd8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="_details" id="details"></a><h2 class="details_section">Detailed Description</h2>
<p>Measure the 'cornerness' at each pixel. Note: The Kitchen-Rosenfeld detector is not implemented because of its inferior performance. The SUSAN detector is missing because it's patented. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga8ac6885918f92043c688fca04401248f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::cornerResponseFunction </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find corners in an image (1). </p>
<p>This algorithm implements the so called 'corner response function' to measure the 'cornerness' of each pixel in the image, according to [C.G. Harris and M.J. Stevens: <em> "A Combined Corner and Edge Detector"</em>, Proc. of 4th Alvey Vision Conference, 1988]. Several studies have found this to be a very robust corner detector, although it moves the corners somewhat into one region, depending on the scale.</p>
<p>The algorithm first determines the structure tensor at each pixel by calling <a class="el" href="group__ConvolutionFilters.html#ga1fa5263dd0a2d0d152e67e7bb31f1d66">structureTensor()</a>. Then the entries of the structure tensor are combined as</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mbox{\rm CornerResponse} = \mbox{\rm det(StructureTensor)} - 0.04 \mbox{\rm tr(StructureTensor)}^2 = A B - C^2 - 0.04 (A + B)^2 \]" src="form_54.png"/>
</p>
<p>The local maxima of the corner response denote the corners in the gray level image.</p>
<p>The source value type must be a linear algebra, i.e. addition, subtraction, and multiplication with itself, multiplication with doubles and <a class="el" href="NumericTraits.html">NumericTraits</a> must be defined.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>T1, <span class="keyword">class </span>S1,</div>
<div class="line">              <span class="keyword">class </span>T2, <span class="keyword">class </span>S2&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__CornerDetection.html#ga8ac6885918f92043c688fca04401248f">cornerResponseFunction</a>(MultiArrayView&lt;2, T1, S1&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                           MultiArrayView&lt;2, T2, S2&gt; dest,</div>
<div class="line">                           <span class="keywordtype">double</span> scale);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="cornerResponseFunction_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;cornerResponseFunction_OldAPI&apos;, &apos;cornerResponseFunction_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="cornerResponseFunction_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__CornerDetection.html#ga8ac6885918f92043c688fca04401248f">cornerResponseFunction</a>(SrcIterator sul, SrcIterator slr, SrcAccessor as,</div>
<div class="line">                           DestIterator dul, DestAccessor ad,</div>
<div class="line">                           <span class="keywordtype">double</span> scale)</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__CornerDetection.html#ga8ac6885918f92043c688fca04401248f">cornerResponseFunction</a>(</div>
<div class="line">               triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">               pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">               <span class="keywordtype">double</span> scale)</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="cornerdetection_8hxx_source.html">vigra/cornerdetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), corners(w,h);</div>
<div class="line">MultiArray&lt;2, float&gt;         corner_response(w,h);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find corner response at scale 1.0</span></div>
<div class="line">cornerResponseFunction(src, corner_response, 1.0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// find local maxima of corner response, mark with 1</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">localMaxima</a>(corner_response, corners);</div>
<div class="line"></div>
<div class="line"><span class="comment">// threshold corner response to keep only strong corners (above 400.0)</span></div>
<div class="line"><a class="code" href="group__TransformAlgo.html#gababa545b60bb7db13076648f83c6b314">transformImage</a>(corner_response, corner_response,</div>
<div class="line">               Threshold&lt;double, double&gt;(400.0, std::numeric_limits&lt;double&gt;::max(), 0.0, 1.0)); </div>
<div class="line"></div>
<div class="line"><span class="comment">// combine thresholding and local maxima</span></div>
<div class="line"><a class="code" href="group__CombineAlgo.html#gaccf94cfa4b47ceb10e08dabe668fce23">combineTwoImages</a>(corners, corner_response,</div>
<div class="line">                 corners, std::multiplies&lt;float&gt;());</div>
</div><!-- fragment --><p><a href="#" id="cornerResponseFunction_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;cornerResponseFunction_OldUsage&apos;, &apos;cornerResponseFunction_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="cornerResponseFunction_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), corners(w,h);</div>
<div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::FImage</a> corner_response(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty corner image</span></div>
<div class="line">corners.init(0.0);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find corner response at scale 1.0</span></div>
<div class="line">vigra::cornerResponseFunction(srcImageRange(src), destImage(corner_response), </div>
<div class="line">                       1.0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// find local maxima of corner response, mark with 1</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">vigra::localMaxima</a>(srcImageRange(corner_response), destImage(corners));</div>
<div class="line"></div>
<div class="line"><span class="comment">// threshold corner response to keep only strong corners (above 400.0)</span></div>
<div class="line"><a class="code" href="group__TransformAlgo.html#gababa545b60bb7db13076648f83c6b314">transformImage</a>(srcImageRange(corner_response), destImage(corner_response),</div>
<div class="line">      <a class="code" href="classvigra_1_1Threshold.html">vigra::Threshold&lt;double, double&gt;</a>(</div>
<div class="line">           400.0, std::numeric_limits&lt;double&gt;::max(), 0.0, 1.0)); </div>
<div class="line"></div>
<div class="line"><span class="comment">// combine thresholding and local maxima</span></div>
<div class="line"><a class="code" href="group__CombineAlgo.html#gaccf94cfa4b47ceb10e08dabe668fce23">vigra::combineTwoImages</a>(srcImageRange(corners), srcImage(corner_response),</div>
<div class="line">                 destImage(corners), std::multiplies&lt;float&gt;());</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft, src_lowerright;</div>
<div class="line">DestImageIterator dest_upperleft;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"><span class="keywordtype">double</span> d;</div>
<div class="line"></div>
<div class="line">u = u + u</div>
<div class="line">u = u - u</div>
<div class="line">u = u * u</div>
<div class="line">u = d * u</div>
<div class="line"></div>
<div class="line">dest_accessor.set(u, dest_upperleft);</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="gab70e0f0cec3312e4b0df415c6b2a733b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::foerstnerCornerDetector </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find corners in an image (2). </p>
<p>This algorithm implements the so called 'Foerstner Corner Detector' to measure the 'cornerness' of each pixel in the image, according to [W. F&ouml;rstner: <em> "A feature based correspondence algorithms for image
matching"</em>, Intl. Arch. Photogrammetry and Remote Sensing, vol. 24, pp 160-166, 1986]. It is also known as the "Plessey Detector" by Harris. However, it should not be confused with the "\link cornerResponseFunction Corner Response Function\endlink ", another detector invented by Harris.</p>
<p>The algorithm first determines the structure tensor at each pixel by calling <a class="el" href="group__ConvolutionFilters.html#ga1fa5263dd0a2d0d152e67e7bb31f1d66">structureTensor()</a>, where the given scale is used for both the inner and outer scales. Then the entries of the structure tensor are combined as</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mbox{\rm FoerstnerCornerStrength} = \frac{\mbox{\rm det(StructureTensor)}}{\mbox{\rm tr(StructureTensor)}} = \frac{A B - C^2}{A + B} \]" src="form_55.png"/>
</p>
<p>The local maxima of the corner strength denote the corners in the gray level image. Its performance is similar to the <a class="el" href="group__CornerDetection.html#ga8ac6885918f92043c688fca04401248f">cornerResponseFunction()</a>.</p>
<p>The source value type must be a division algebra, i.e. addition, subtraction, multiplication, and division with itself, multiplication with doubles and <a class="el" href="NumericTraits.html">NumericTraits</a> must be defined.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>T1, <span class="keyword">class </span>S1,</div>
<div class="line">              <span class="keyword">class </span>T2, <span class="keyword">class </span>S2&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__CornerDetection.html#gab70e0f0cec3312e4b0df415c6b2a733b">foerstnerCornerDetector</a>(MultiArrayView&lt;2, T1, S1&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                            MultiArrayView&lt;2, T2, S2&gt; dest,</div>
<div class="line">                            <span class="keywordtype">double</span> scale);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="foerstnerCornerDetector_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;foerstnerCornerDetector_OldAPI&apos;, &apos;foerstnerCornerDetector_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="foerstnerCornerDetector_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__CornerDetection.html#gab70e0f0cec3312e4b0df415c6b2a733b">foerstnerCornerDetector</a>(SrcIterator sul, SrcIterator slr, SrcAccessor as,</div>
<div class="line">                           DestIterator dul, DestAccessor ad,</div>
<div class="line">                           <span class="keywordtype">double</span> scale)</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">     <span class="keywordtype">void</span> <a class="code" href="group__CornerDetection.html#gab70e0f0cec3312e4b0df415c6b2a733b">foerstnerCornerDetector</a>(</div>
<div class="line">               triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">               pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">               <span class="keywordtype">double</span> scale)</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="cornerdetection_8hxx_source.html">vigra/cornerdetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), corners(w,h);</div>
<div class="line">MultiArray&lt;2, float&gt;         foerstner_corner_strength(w,h);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find corner response at scale 1.0</span></div>
<div class="line">foerstnerCornerDetector(src, foerstner_corner_strength, 1.0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// find local maxima of corner response, mark with 1</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">localMaxima</a>(foerstner_corner_strength, corners);</div>
</div><!-- fragment --><p><a href="#" id="foerstnerCornerDetector_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;foerstnerCornerDetector_OldUsage&apos;, &apos;foerstnerCornerDetector_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="foerstnerCornerDetector_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), corners(w,h);</div>
<div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::FImage</a> foerstner_corner_strength(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty corner image</span></div>
<div class="line">corners.init(0.0);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find corner response at scale 1.0</span></div>
<div class="line">vigra::foerstnerCornerDetector(srcImageRange(src), destImage(foerstner_corner_strength), </div>
<div class="line">                               1.0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// find local maxima of corner response, mark with 1</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">vigra::localMaxima</a>(srcImageRange(foerstner_corner_strength), destImage(corners));</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft, src_lowerright;</div>
<div class="line">DestImageIterator dest_upperleft;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"><span class="keywordtype">double</span> d;</div>
<div class="line"></div>
<div class="line">u = u + u</div>
<div class="line">u = u - u</div>
<div class="line">u = u * u</div>
<div class="line">u = u / u</div>
<div class="line">u = d * u</div>
<div class="line"></div>
<div class="line">dest_accessor.set(u, dest_upperleft);</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ga425b0f1d2d17b7aa2518dff5cd1abd8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::rohrCornerDetector </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find corners in an image (3). </p>
<p>This algorithm implements yet another structure tensor-based corner detector, according to [K. Rohr: <em>"Untersuchung von grauwertabh&amp;auml;ngigen 
Transformationen zur Ermittlung der optischen Flusses in Bildfolgen"</em>, Diploma thesis, Inst. f&uuml;r Nachrichtensysteme, Univ. Karlsruhe, 1987, see also K. Rohr: <em>"Modelling and Identification of Characteristic Intensity Variations"</em>, Image and Vision Computing 10:2 (1992) 66-76 and K. Rohr: <em>"Localization Properties of 
Direct Corner Detectors"</em>, J. of Mathematical Imaging and Vision 4:2 (1994) 139-150].</p>
<p>The algorithm first determines the structure tensor at each pixel by calling <a class="el" href="group__ConvolutionFilters.html#ga1fa5263dd0a2d0d152e67e7bb31f1d66">structureTensor()</a>, where the given scale is used for both the inner and outer scales. Then the entries of the structure tensor are combined as</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mbox{\rm RohrCornerStrength} = \mbox{\rm det(StructureTensor)} = A B - C^2 \]" src="form_56.png"/>
</p>
<p>The local maxima of the corner strength denote the corners in the gray level image. Its performance is similar to the <a class="el" href="group__CornerDetection.html#ga8ac6885918f92043c688fca04401248f">cornerResponseFunction()</a>.</p>
<p>The source value type must be a linear algebra, i.e. addition, subtraction, and multiplication with itself, multiplication with doubles and <a class="el" href="NumericTraits.html">NumericTraits</a> must be defined.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>T1, <span class="keyword">class </span>S1,</div>
<div class="line">              <span class="keyword">class </span>T2, <span class="keyword">class </span>S2&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__CornerDetection.html#ga425b0f1d2d17b7aa2518dff5cd1abd8e">rohrCornerDetector</a>(MultiArrayView&lt;2, T1, S1&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                       MultiArrayView&lt;2, T2, S2&gt; dest,</div>
<div class="line">                       <span class="keywordtype">double</span> scale);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="rohrCornerDetector_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;rohrCornerDetector_OldAPI&apos;, &apos;rohrCornerDetector_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="rohrCornerDetector_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__CornerDetection.html#ga425b0f1d2d17b7aa2518dff5cd1abd8e">rohrCornerDetector</a>(SrcIterator sul, SrcIterator slr, SrcAccessor as,</div>
<div class="line">                       DestIterator dul, DestAccessor ad,</div>
<div class="line">                       <span class="keywordtype">double</span> scale)</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__CornerDetection.html#ga425b0f1d2d17b7aa2518dff5cd1abd8e">rohrCornerDetector</a>(</div>
<div class="line">               triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">               pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">               <span class="keywordtype">double</span> scale)</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="cornerdetection_8hxx_source.html">vigra/cornerdetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), corners(w,h);</div>
<div class="line">MultiArray&lt;2, float&gt;         rohr_corner_strength(w,h);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find corner response at scale 1.0</span></div>
<div class="line">rohrCornerDetector(src, rohr_corner_strength, 1.0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// find local maxima of corner response, mark with 1</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">localMaxima</a>(rohr_corner_strength, corners);</div>
</div><!-- fragment --><p><a href="#" id="rohrCornerDetector_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;rohrCornerDetector_OldUsage&apos;, &apos;rohrCornerDetector_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="rohrCornerDetector_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), corners(w,h);</div>
<div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::FImage</a> rohr_corner_strength(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty corner image</span></div>
<div class="line">corners.init(0.0);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find corner response at scale 1.0</span></div>
<div class="line">vigra::rohrCornerDetector(srcImageRange(src), destImage(rohr_corner_strength), </div>
<div class="line">                          1.0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// find local maxima of corner response, mark with 1</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">vigra::localMaxima</a>(srcImageRange(rohr_corner_strength), destImage(corners));</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft, src_lowerright;</div>
<div class="line">DestImageIterator dest_upperleft;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"><span class="keywordtype">double</span> d;</div>
<div class="line"></div>
<div class="line">u = u + u</div>
<div class="line">u = u - u</div>
<div class="line">u = u * u</div>
<div class="line">u = d * u</div>
<div class="line"></div>
<div class="line">dest_accessor.set(u, dest_upperleft);</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ga0c750a26d679a2ea13fd697dac73a123"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::beaudetCornerDetector </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find corners in an image (4). </p>
<p>This algorithm implements a corner detector according to [P.R. Beaudet: <em> "Rotationally Invariant Image Operators"</em>, Proc. Intl. Joint Conf. on Pattern Recognition, Kyoto, Japan, 1978, pp. 579-583].</p>
<p>The algorithm calculates the corner strength as the negative determinant of the <a class="el" href="group__ConvolutionFilters.html#gada2a320ba52c347f03c02ef173e346cd">Hessian Matrix</a>. The local maxima of the corner strength denote the corners in the gray level image.</p>
<p>The source value type must be a linear algebra, i.e. addition, subtraction, and multiplication with itself, multiplication with doubles and <a class="el" href="NumericTraits.html">NumericTraits</a> must be defined.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>T1, <span class="keyword">class </span>S1,</div>
<div class="line">              <span class="keyword">class </span>T2, <span class="keyword">class </span>S2&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__CornerDetection.html#ga0c750a26d679a2ea13fd697dac73a123">beaudetCornerDetector</a>(MultiArrayView&lt;2, T1, S1&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                          MultiArrayView&lt;2, T2, S2&gt; dest,</div>
<div class="line">                          <span class="keywordtype">double</span> scale);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="beaudetCornerDetector_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;beaudetCornerDetector_OldAPI&apos;, &apos;beaudetCornerDetector_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="beaudetCornerDetector_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__CornerDetection.html#ga0c750a26d679a2ea13fd697dac73a123">beaudetCornerDetector</a>(SrcIterator sul, SrcIterator slr, SrcAccessor as,</div>
<div class="line">                       DestIterator dul, DestAccessor ad,</div>
<div class="line">                       <span class="keywordtype">double</span> scale)</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__CornerDetection.html#ga0c750a26d679a2ea13fd697dac73a123">beaudetCornerDetector</a>(</div>
<div class="line">               triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">               pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">               <span class="keywordtype">double</span> scale)</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="cornerdetection_8hxx_source.html">vigra/cornerdetection.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), corners(w,h);</div>
<div class="line">MultiArray&lt;2, float&gt;         beaudet_corner_strength(w,h);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find corner response at scale 1.0</span></div>
<div class="line">beaudetCornerDetector(src, beaudet_corner_strength, 1.0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// find local maxima of corner response, mark with 1</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">localMaxima</a>(beaudet_corner_strength, corners);</div>
</div><!-- fragment --><p><a href="#" id="beaudetCornerDetector_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;beaudetCornerDetector_OldUsage&apos;, &apos;beaudetCornerDetector_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="beaudetCornerDetector_OldUsage" style="display:none"> <div class="fragment"><div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::BImage</a> src(w,h), corners(w,h);</div>
<div class="line"><a class="code" href="classvigra_1_1BasicImage.html">vigra::FImage</a> beaudet_corner_strength(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// empty corner image</span></div>
<div class="line">corners.init(0.0);</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// find corner response at scale 1.0</span></div>
<div class="line">vigra::beaudetCornerDetector(srcImageRange(src), destImage(beaudet_corner_strength), </div>
<div class="line">                          1.0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// find local maxima of corner response, mark with 1</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">vigra::localMaxima</a>(srcImageRange(beaudet_corner_strength), destImage(corners));</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft, src_lowerright;</div>
<div class="line">DestImageIterator dest_upperleft;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"><span class="keywordtype">double</span> d;</div>
<div class="line"></div>
<div class="line">u = u + u</div>
<div class="line">u = u - u</div>
<div class="line">u = u * u</div>
<div class="line">u = d * u</div>
<div class="line"></div>
<div class="line">dest_accessor.set(u, dest_upperleft);</div>
</div><!-- fragment --> </div> 
</div>
</div>
</div><!-- contents -->
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
vigra 1.11.1 (Fri May 19 2017)
</i>
</tr>
</table>
</BODY>
</HTML>
